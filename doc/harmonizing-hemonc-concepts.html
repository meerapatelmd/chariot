<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Harmonizing HemOnc Concepts</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Harmonizing HemOnc Concepts</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(chariot)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<p>Harmonizing HemOnc concepts entails getting a combination of Regimens and Components, reducing the combination down to the Component level, and finding Regimens and/or Regimen and Component combinations that map to the reduced list.</p>
<p>For example, the Regimen FOLFOX along with Irinotecan would harmonize to FOLFIRINOX.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">FOLFOX &lt;-<span class="st"> </span><span class="kw">get_concept</span>(<span class="dt">concept_id =</span> <span class="dv">35806596</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">Irinotecan &lt;-<span class="st"> </span><span class="kw">get_concept</span>(<span class="dt">concept_id =</span> <span class="dv">35803130</span>)</a></code></pre></div>
<p>To check for this, the FOLFOX plus Irinotecan combination are reduced to Components.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">new_components &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">ho_reduce_to_components</span>(FOLFOX,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">                        Irinotecan)</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">new_components</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt;   concept_id concept_name domain_id vocabulary_id concept_class_id</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; 1   35803077 Fluorouracil      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; 2   35803081 Folinic acid      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; 3   35803227  Oxaliplatin      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 4   35803130   Irinotecan      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;   standard_concept concept_code valid_start_date valid_end_date invalid_reason</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 1             &lt;NA&gt;          225       2019-05-27     2099-12-31           &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 2             &lt;NA&gt;          229       2019-05-27     2099-12-31           &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 3             &lt;NA&gt;          377       2019-05-27     2099-12-31           &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 4             &lt;NA&gt;          280       2019-05-27     2099-12-31           &lt;NA&gt;</span></a></code></pre></div>
<p>The components can then be submitted to generate a potential regimen match.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">new_regimen &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">ho_lookup_regimen</span>(new_components<span class="op">$</span>concept_id)</a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">new_regimen</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt;    regimen_concept_id                                  regimen_concept_name</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; 1            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; 2            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; 3            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; 4            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; 5            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; 6            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; 7            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; 8            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; 9            35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; 10           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; 11           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; 12           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt;    has_antineoplastic_concept_id has_antineoplastic_concept_name</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; 1                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; 2                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; 3                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; 4                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; 5                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; 6                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt; 7                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt; 8                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; 9                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt; 10                      35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt; 11                      35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt; 12                      35803227                     Oxaliplatin</span></a></code></pre></div>
<p>In this case, various combinations existed. However, what if a combination does not cleanly map to a HemOnc Regimen? For example, sometimes there is an add-on drug to an established Regimen for experimental reasons.</p>
<p>For demonstration purposes, suppose the new Components reduced down to Fluorouracil, Folinic acid, Oxaliplatin, and Irinotecan as well as Trastuzumab.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">Trastuzumab &lt;-<span class="st"> </span><span class="kw">get_concept</span>(<span class="dt">concept_id =</span> <span class="dv">35803361</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">Trastuzumab</a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">new_component_ids2 &lt;-<span class="st"> </span><span class="kw">c</span>(new_components<span class="op">$</span>concept_id, Trastuzumab<span class="op">@</span>concept_id)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">new_component_ids2</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; [1] 35803077 35803081 35803227 35803130 35803361</span></a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">new_regimen2 &lt;-<span class="st"> </span><span class="kw">ho_lookup_regimen</span>(new_component_ids2)</a></code></pre></div>
<p>In this case, a regimen was not found as indicated by a zero row result.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">new_regimen2</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; # A tibble: 0 x 4</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt; # … with 4 variables: regimen_concept_id &lt;???&gt;, regimen_concept_name &lt;???&gt;,</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; #   has_antineoplastic_concept_id &lt;???&gt;, has_antineoplastic_concept_name &lt;???&gt;</span></a></code></pre></div>
<p>To find possible Regimen and Component combinations instead, subsets of the Components can be submitted to find matches using <code>ho_grep_regimens()</code> with starting <code>component_count</code> 1 value less than the total Component count. In this case, it is 4.</p>
<p>The Concept classes are retrieved for each of the Components.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">new_component_objs2 &lt;-<span class="st"> </span><span class="kw">lapply</span>(new_component_ids2,</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">                              get_concept)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="kw">names</span>(new_component_objs2) &lt;-<span class="st"> </span><span class="kw">lapply</span>(new_component_objs2,</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">                                     <span class="cf">function</span>(x) <span class="kw">slot</span>(x, <span class="st">&quot;concept_name&quot;</span>))</a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">new_component_objs2</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt; $Fluorouracil</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt; [1] 35803077</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt; [1] &quot;Fluorouracil&quot;</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt; [1] &quot;5 FU|5 Fluorouracil|5-fluoracilo|5-fluorouracilo|5-fluorouracyl|FU|Ro-2-9757&quot;</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt; [1] &quot;fluorouracil&quot;</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-19" data-line-number="19"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb12-20" data-line-number="20"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb12-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-22" data-line-number="22"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb12-23" data-line-number="23"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb12-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-25" data-line-number="25"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb12-26" data-line-number="26"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-28" data-line-number="28"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb12-29" data-line-number="29"><span class="co">#&gt; [1] &quot;225&quot;</span></a>
<a class="sourceLine" id="cb12-30" data-line-number="30"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-31" data-line-number="31"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb12-32" data-line-number="32"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb12-33" data-line-number="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-34" data-line-number="34"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb12-35" data-line-number="35"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb12-36" data-line-number="36"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-37" data-line-number="37"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb12-38" data-line-number="38"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-39" data-line-number="39"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-41" data-line-number="41"><span class="co">#&gt; $`Folinic acid`</span></a>
<a class="sourceLine" id="cb12-42" data-line-number="42"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb12-43" data-line-number="43"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb12-44" data-line-number="44"><span class="co">#&gt; [1] 35803081</span></a>
<a class="sourceLine" id="cb12-45" data-line-number="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-46" data-line-number="46"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb12-47" data-line-number="47"><span class="co">#&gt; [1] &quot;Folinic acid&quot;</span></a>
<a class="sourceLine" id="cb12-48" data-line-number="48"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-49" data-line-number="49"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb12-50" data-line-number="50"><span class="co">#&gt; [1] &quot;LV|citrovorum factor|folinate calcium|folinato de calcio|leucovorin calcium|sodium folinate&quot;</span></a>
<a class="sourceLine" id="cb12-51" data-line-number="51"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-52" data-line-number="52"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb12-53" data-line-number="53"><span class="co">#&gt; [1] &quot;leucovorin&quot;</span></a>
<a class="sourceLine" id="cb12-54" data-line-number="54"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-55" data-line-number="55"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb12-56" data-line-number="56"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb12-57" data-line-number="57"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-58" data-line-number="58"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb12-59" data-line-number="59"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb12-60" data-line-number="60"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-61" data-line-number="61"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb12-62" data-line-number="62"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb12-63" data-line-number="63"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-64" data-line-number="64"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb12-65" data-line-number="65"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-66" data-line-number="66"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-67" data-line-number="67"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb12-68" data-line-number="68"><span class="co">#&gt; [1] &quot;229&quot;</span></a>
<a class="sourceLine" id="cb12-69" data-line-number="69"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-70" data-line-number="70"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb12-71" data-line-number="71"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb12-72" data-line-number="72"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-73" data-line-number="73"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb12-74" data-line-number="74"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb12-75" data-line-number="75"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-76" data-line-number="76"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb12-77" data-line-number="77"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-78" data-line-number="78"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-79" data-line-number="79"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-80" data-line-number="80"><span class="co">#&gt; $Oxaliplatin</span></a>
<a class="sourceLine" id="cb12-81" data-line-number="81"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb12-82" data-line-number="82"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb12-83" data-line-number="83"><span class="co">#&gt; [1] 35803227</span></a>
<a class="sourceLine" id="cb12-84" data-line-number="84"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-85" data-line-number="85"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb12-86" data-line-number="86"><span class="co">#&gt; [1] &quot;Oxaliplatin&quot;</span></a>
<a class="sourceLine" id="cb12-87" data-line-number="87"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-88" data-line-number="88"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb12-89" data-line-number="89"><span class="co">#&gt; [1] &quot;JM-83|RP-54780|SR-96669&quot;</span></a>
<a class="sourceLine" id="cb12-90" data-line-number="90"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-91" data-line-number="91"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb12-92" data-line-number="92"><span class="co">#&gt; [1] &quot;oxaliplatin&quot;</span></a>
<a class="sourceLine" id="cb12-93" data-line-number="93"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-94" data-line-number="94"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb12-95" data-line-number="95"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb12-96" data-line-number="96"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-97" data-line-number="97"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb12-98" data-line-number="98"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb12-99" data-line-number="99"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-100" data-line-number="100"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb12-101" data-line-number="101"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb12-102" data-line-number="102"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-103" data-line-number="103"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb12-104" data-line-number="104"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-105" data-line-number="105"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-106" data-line-number="106"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb12-107" data-line-number="107"><span class="co">#&gt; [1] &quot;377&quot;</span></a>
<a class="sourceLine" id="cb12-108" data-line-number="108"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-109" data-line-number="109"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb12-110" data-line-number="110"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb12-111" data-line-number="111"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-112" data-line-number="112"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb12-113" data-line-number="113"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb12-114" data-line-number="114"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-115" data-line-number="115"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb12-116" data-line-number="116"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-117" data-line-number="117"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-118" data-line-number="118"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-119" data-line-number="119"><span class="co">#&gt; $Irinotecan</span></a>
<a class="sourceLine" id="cb12-120" data-line-number="120"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb12-121" data-line-number="121"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb12-122" data-line-number="122"><span class="co">#&gt; [1] 35803130</span></a>
<a class="sourceLine" id="cb12-123" data-line-number="123"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-124" data-line-number="124"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb12-125" data-line-number="125"><span class="co">#&gt; [1] &quot;Irinotecan&quot;</span></a>
<a class="sourceLine" id="cb12-126" data-line-number="126"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-127" data-line-number="127"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb12-128" data-line-number="128"><span class="co">#&gt; [1] &quot;CPT-11|Camptothecin-11|U-101440E&quot;</span></a>
<a class="sourceLine" id="cb12-129" data-line-number="129"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-130" data-line-number="130"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb12-131" data-line-number="131"><span class="co">#&gt; [1] &quot;irinotecan&quot;</span></a>
<a class="sourceLine" id="cb12-132" data-line-number="132"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-133" data-line-number="133"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb12-134" data-line-number="134"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb12-135" data-line-number="135"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-136" data-line-number="136"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb12-137" data-line-number="137"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb12-138" data-line-number="138"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-139" data-line-number="139"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb12-140" data-line-number="140"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb12-141" data-line-number="141"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-142" data-line-number="142"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb12-143" data-line-number="143"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-144" data-line-number="144"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-145" data-line-number="145"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb12-146" data-line-number="146"><span class="co">#&gt; [1] &quot;280&quot;</span></a>
<a class="sourceLine" id="cb12-147" data-line-number="147"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-148" data-line-number="148"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb12-149" data-line-number="149"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb12-150" data-line-number="150"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-151" data-line-number="151"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb12-152" data-line-number="152"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb12-153" data-line-number="153"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-154" data-line-number="154"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb12-155" data-line-number="155"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-156" data-line-number="156"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-157" data-line-number="157"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-158" data-line-number="158"><span class="co">#&gt; $Trastuzumab</span></a>
<a class="sourceLine" id="cb12-159" data-line-number="159"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb12-160" data-line-number="160"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb12-161" data-line-number="161"><span class="co">#&gt; [1] 35803361</span></a>
<a class="sourceLine" id="cb12-162" data-line-number="162"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-163" data-line-number="163"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb12-164" data-line-number="164"><span class="co">#&gt; [1] &quot;Trastuzumab&quot;</span></a>
<a class="sourceLine" id="cb12-165" data-line-number="165"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-166" data-line-number="166"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb12-167" data-line-number="167"><span class="co">#&gt; [1] &quot;&quot;</span></a>
<a class="sourceLine" id="cb12-168" data-line-number="168"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-169" data-line-number="169"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb12-170" data-line-number="170"><span class="co">#&gt; [1] &quot;trastuzumab&quot;</span></a>
<a class="sourceLine" id="cb12-171" data-line-number="171"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-172" data-line-number="172"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb12-173" data-line-number="173"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb12-174" data-line-number="174"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-175" data-line-number="175"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb12-176" data-line-number="176"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb12-177" data-line-number="177"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-178" data-line-number="178"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb12-179" data-line-number="179"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb12-180" data-line-number="180"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-181" data-line-number="181"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb12-182" data-line-number="182"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb12-183" data-line-number="183"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-184" data-line-number="184"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb12-185" data-line-number="185"><span class="co">#&gt; [1] &quot;512&quot;</span></a>
<a class="sourceLine" id="cb12-186" data-line-number="186"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-187" data-line-number="187"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb12-188" data-line-number="188"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb12-189" data-line-number="189"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-190" data-line-number="190"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb12-191" data-line-number="191"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb12-192" data-line-number="192"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-193" data-line-number="193"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb12-194" data-line-number="194"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>All the possible Component permutations are made by removing one of the Components.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">new_component_permutations &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(new_component_objs2)) {</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  new_component_permutations[[i]] &lt;-</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="st">  </span>new_component_objs2[<span class="op">-</span>i]</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">  <span class="kw">names</span>(new_component_permutations)[i] &lt;-<span class="st"> </span>new_component_objs2[[i]]<span class="op">@</span>concept_name</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">}</a></code></pre></div>
<p>The resulting input is of the same length as the source Components (5) and each value in the list is composed of 4 (5 minus 1) Components. The names of the removed Component in a particular permutation is also saved as the name.</p>
<p>The permutations are mapped to Regimens.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">new_regimens2 &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(new_component_permutations)) {</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb14-4" data-line-number="4">  new_regimens2[[i]] &lt;-</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">  </span><span class="kw">ho_lookup_regimen</span>(new_component_permutations[[i]])</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="kw">names</span>(new_regimens2) &lt;-<span class="st"> </span><span class="kw">names</span>(new_component_permutations)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">new_regimens2 &lt;-</a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="st">  </span>new_regimens2 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="st">  </span>purrr<span class="op">::</span><span class="kw">keep</span>(<span class="op">~</span><span class="st"> </span><span class="kw">nrow</span>(.) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</a></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">new_regimens2</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt; $Trastuzumab</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt;    regimen_concept_id                                  regimen_concept_name</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt; 1            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; 2            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; 3            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; 4            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt; 5            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt; 6            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt; 7            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt; 8            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt; 9            35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt; 10           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; 11           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; 12           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;    has_antineoplastic_concept_id has_antineoplastic_concept_name</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; 1                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; 2                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; 3                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; 4                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; 5                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt; 6                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23"><span class="co">#&gt; 7                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt; 8                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt; 9                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb15-26" data-line-number="26"><span class="co">#&gt; 10                      35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb15-27" data-line-number="27"><span class="co">#&gt; 11                      35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb15-28" data-line-number="28"><span class="co">#&gt; 12                      35803227                     Oxaliplatin</span></a></code></pre></div>
<p>Filtering for only the permutations that returned greater than zero rows, there are 3 potential regimens that a subset of 4 Components map to:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">new_regimens2 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw">bind_rows</span>(<span class="dt">.id =</span> <span class="st">&quot;add_on_component_name&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(add_on_component_name, regimen_concept_id, regimen_concept_name) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="st">  </span><span class="kw">distinct</span>()</a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt;   add_on_component_name regimen_concept_id</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt; 1           Trastuzumab           35804771</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">#&gt; 2           Trastuzumab           35806584</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">#&gt; 3           Trastuzumab           35807526</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt;                                    regimen_concept_name</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt; 1                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt; 2                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">#&gt; 3 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a></code></pre></div>
<p>Therefore, the possible combinations are either FOLFIRINOX plus Trastuzumab, mFOLFIRINOX plus Trastuzumab, or FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation plus Trastuzumab.</p>
<p>It is possible that the permutations do not return any rows in this scenario. If this is the case, it is likely more feasible to manually look up the mapping at  than to programmatically find matches.</p>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
