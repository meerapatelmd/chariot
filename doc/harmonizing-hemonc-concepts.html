<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Harmonizing HemOnc Concepts</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Harmonizing HemOnc Concepts</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(chariot)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#&gt; ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; ✓ ggplot2 3.3.3     ✓ purrr   0.3.4</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt; ✓ tibble  3.0.5     ✓ dplyr   1.0.3</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; ✓ tidyr   1.1.2     ✓ stringr 1.4.0</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; ✓ readr   1.4.0     ✓ forcats 0.5.0</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></a></code></pre></div>
<p>Harmonizing HemOnc concepts entails getting a combination of Regimens and Components, reducing the combination down to the Component level, and finding Regimens and/or Regimen and Component combinations that map to the reduced list.</p>
<p>For example, the Regimen FOLFOX along with Irinotecan would harmonize to FOLFIRINOX.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">FOLFOX &lt;-<span class="st"> </span><span class="kw">get_concept</span>(<span class="dt">concept_id =</span> <span class="dv">35806596</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; ✓ Concept Id `35806596` found in Concept Table</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18">Irinotecan &lt;-<span class="st"> </span><span class="kw">get_concept</span>(<span class="dt">concept_id =</span> <span class="dv">35803130</span>)</a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt; ✓ Concept Id `35803130` found in Concept Table</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-32" data-line-number="32"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb2-34" data-line-number="34"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a></code></pre></div>
<p>To check for this, the FOLFOX plus Irinotecan combination are reduced to Components.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">new_components &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">ho_reduce_to_components</span>(FOLFOX,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">                        Irinotecan)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; ── Checking Validity ───────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; [2021-01-17 00:11:17]    Loading Cache...</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; [2021-01-17 00:11:17]    Cached SQL: </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;                             SELECT *</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;                             FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;                             WHERE c.concept_id IN (35806596,35803130)</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;                                     AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;                                     AND c.concept_class_id IN ('Regimen', 'Component')</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;                                     AND c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;                             </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; [2021-01-17 00:11:17]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; [2021-01-17 00:11:17]    Target column: hemonc_concept_ids</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt; [2021-01-17 00:11:17]    Dropping patelm9.V20210117001117...</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt; [2021-01-17 00:11:17]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001117;</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt; [2021-01-17 00:11:17]    Sending...</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">#&gt; [2021-01-17 00:11:17]    Sending...complete</span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt; [2021-01-17 00:11:17]    Dropping patelm9.V20210117001117...complete</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt; ✓ Data 'data' has more than 0 rows</span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt; ✓ Table name 'V20210117001117' is not a reserved word</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="co">#&gt; ✓ Field name 'hemonc_concept_ids' is not a reserved word</span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="co">#&gt; [2021-01-17 00:11:17]    Writing patelm9.V20210117001117...</span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="co">#&gt; [2021-01-17 00:11:17]    Writing patelm9.V20210117001117...complete</span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb3-37" data-line-number="37"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="co">#&gt; [2021-01-17 00:11:17]    SQL: SELECT a.*, b.* FROM patelm9.V20210117001117 a LEFT JOIN omop_vocabulary.concept b ON a.hemonc_concept_ids = b.concept_id WHERE b.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="co">#&gt; [2021-01-17 00:11:17]    Querying...</span></a>
<a class="sourceLine" id="cb3-41" data-line-number="41"><span class="co">#&gt; [2021-01-17 00:11:17]    Querying...complete</span></a>
<a class="sourceLine" id="cb3-42" data-line-number="42"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-43" data-line-number="43"><span class="co">#&gt; ✓ Returned data has more than 0 rows</span></a>
<a class="sourceLine" id="cb3-44" data-line-number="44"><span class="co">#&gt; [2021-01-17 00:11:17]    Dropping patelm9.V20210117001117...</span></a>
<a class="sourceLine" id="cb3-45" data-line-number="45"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-46" data-line-number="46"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb3-47" data-line-number="47"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-48" data-line-number="48"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb3-49" data-line-number="49"><span class="co">#&gt; [2021-01-17 00:11:17]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001117;</span></a>
<a class="sourceLine" id="cb3-50" data-line-number="50"><span class="co">#&gt; [2021-01-17 00:11:17]    Sending...</span></a>
<a class="sourceLine" id="cb3-51" data-line-number="51"><span class="co">#&gt; [2021-01-17 00:11:17]    Sending...complete</span></a>
<a class="sourceLine" id="cb3-52" data-line-number="52"><span class="co">#&gt; [2021-01-17 00:11:17]    Dropping patelm9.V20210117001117...complete</span></a>
<a class="sourceLine" id="cb3-53" data-line-number="53"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb3-54" data-line-number="54"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb3-55" data-line-number="55"><span class="co">#&gt; [2021-01-17 00:11:17]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb3-56" data-line-number="56"><span class="co">#&gt; [2021-01-17 00:11:17]    Target column: component_id</span></a>
<a class="sourceLine" id="cb3-57" data-line-number="57"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb3-58" data-line-number="58"><span class="co">#&gt; [2021-01-17 00:11:17]    Dropping patelm9.V20210117001117...</span></a>
<a class="sourceLine" id="cb3-59" data-line-number="59"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-60" data-line-number="60"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb3-61" data-line-number="61"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-62" data-line-number="62"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb3-63" data-line-number="63"><span class="co">#&gt; [2021-01-17 00:11:17]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001117;</span></a>
<a class="sourceLine" id="cb3-64" data-line-number="64"><span class="co">#&gt; [2021-01-17 00:11:17]    Sending...</span></a>
<a class="sourceLine" id="cb3-65" data-line-number="65"><span class="co">#&gt; [2021-01-17 00:11:17]    Sending...complete</span></a>
<a class="sourceLine" id="cb3-66" data-line-number="66"><span class="co">#&gt; [2021-01-17 00:11:17]    Dropping patelm9.V20210117001117...complete</span></a>
<a class="sourceLine" id="cb3-67" data-line-number="67"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-68" data-line-number="68"><span class="co">#&gt; ✓ Data 'data' has more than 0 rows</span></a>
<a class="sourceLine" id="cb3-69" data-line-number="69"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-70" data-line-number="70"><span class="co">#&gt; ✓ Table name 'V20210117001117' is not a reserved word</span></a>
<a class="sourceLine" id="cb3-71" data-line-number="71"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-72" data-line-number="72"><span class="co">#&gt; ✓ Field name 'component_id' is not a reserved word</span></a>
<a class="sourceLine" id="cb3-73" data-line-number="73"><span class="co">#&gt; [2021-01-17 00:11:17]    Writing patelm9.V20210117001117...</span></a>
<a class="sourceLine" id="cb3-74" data-line-number="74"><span class="co">#&gt; [2021-01-17 00:11:17]    Writing patelm9.V20210117001117...complete</span></a>
<a class="sourceLine" id="cb3-75" data-line-number="75"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-76" data-line-number="76"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb3-77" data-line-number="77"><span class="co">#&gt; [2021-01-17 00:11:17]    </span></a>
<a class="sourceLine" id="cb3-78" data-line-number="78"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb3-79" data-line-number="79"><span class="co">#&gt; [2021-01-17 00:11:17]    SQL: SELECT a.*, b.* FROM patelm9.V20210117001117 a LEFT JOIN omop_vocabulary.concept b ON a.component_id = b.concept_id WHERE b.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb3-80" data-line-number="80"><span class="co">#&gt; [2021-01-17 00:11:17]    Querying...</span></a>
<a class="sourceLine" id="cb3-81" data-line-number="81"><span class="co">#&gt; [2021-01-17 00:11:18]    Querying...complete</span></a>
<a class="sourceLine" id="cb3-82" data-line-number="82"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb3-83" data-line-number="83"><span class="co">#&gt; ✓ Returned data has more than 0 rows</span></a>
<a class="sourceLine" id="cb3-84" data-line-number="84"><span class="co">#&gt; [2021-01-17 00:11:18]    Dropping patelm9.V20210117001117...</span></a>
<a class="sourceLine" id="cb3-85" data-line-number="85"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb3-86" data-line-number="86"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb3-87" data-line-number="87"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb3-88" data-line-number="88"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb3-89" data-line-number="89"><span class="co">#&gt; [2021-01-17 00:11:18]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001117;</span></a>
<a class="sourceLine" id="cb3-90" data-line-number="90"><span class="co">#&gt; [2021-01-17 00:11:18]    Sending...</span></a>
<a class="sourceLine" id="cb3-91" data-line-number="91"><span class="co">#&gt; [2021-01-17 00:11:18]    Sending...complete</span></a>
<a class="sourceLine" id="cb3-92" data-line-number="92"><span class="co">#&gt; [2021-01-17 00:11:18]    Dropping patelm9.V20210117001117...complete</span></a>
<a class="sourceLine" id="cb3-93" data-line-number="93"><span class="co">#&gt; [2021-01-17 00:11:18]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb3-94" data-line-number="94"><span class="co">#&gt; [2021-01-17 00:11:18]    Postgres connection to 'athena' closed</span></a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">new_components</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt;   concept_id concept_name domain_id vocabulary_id concept_class_id</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; 1   35803077 Fluorouracil      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; 2   35803081 Folinic acid      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; 3   35803227  Oxaliplatin      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 4   35803130   Irinotecan      Drug        HemOnc        Component</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;   standard_concept concept_code valid_start_date valid_end_date invalid_reason</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 1             &lt;NA&gt;          225       2019-05-27     2099-12-31           &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 2             &lt;NA&gt;          229       2019-05-27     2099-12-31           &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 3             &lt;NA&gt;          377       2019-05-27     2099-12-31           &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 4             &lt;NA&gt;          280       2019-05-27     2099-12-31           &lt;NA&gt;</span></a></code></pre></div>
<p>The components can then be submitted to generate a potential regimen match.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">new_regimen &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">ho_lookup_regimen</span>(new_components<span class="op">$</span>concept_id)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; [2021-01-17 00:11:18]    Loading Cache...</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;                              WHERE c.concept_id IN (35803077,35803081,35803227,35803130)</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt; [2021-01-17 00:11:18]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt; [2021-01-17 00:11:18]    Loading Cache...</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803077)</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-34" data-line-number="34"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb5-35" data-line-number="35"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-37" data-line-number="37"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb5-38" data-line-number="38"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb5-39" data-line-number="39"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb5-40" data-line-number="40"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-41" data-line-number="41"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb5-42" data-line-number="42"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb5-43" data-line-number="43"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb5-44" data-line-number="44"><span class="co">#&gt; [2021-01-17 00:11:18]    Loading Cache...</span></a>
<a class="sourceLine" id="cb5-45" data-line-number="45"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb5-46" data-line-number="46"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-47" data-line-number="47"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-48" data-line-number="48"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-49" data-line-number="49"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb5-50" data-line-number="50"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803081)</span></a>
<a class="sourceLine" id="cb5-51" data-line-number="51"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb5-52" data-line-number="52"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-53" data-line-number="53"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb5-54" data-line-number="54"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb5-55" data-line-number="55"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb5-56" data-line-number="56"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-57" data-line-number="57"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-58" data-line-number="58"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-59" data-line-number="59"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb5-60" data-line-number="60"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-61" data-line-number="61"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb5-62" data-line-number="62"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-63" data-line-number="63"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb5-64" data-line-number="64"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-65" data-line-number="65"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb5-66" data-line-number="66"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb5-67" data-line-number="67"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-68" data-line-number="68"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb5-69" data-line-number="69"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb5-70" data-line-number="70"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb5-71" data-line-number="71"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-72" data-line-number="72"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb5-73" data-line-number="73"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb5-74" data-line-number="74"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb5-75" data-line-number="75"><span class="co">#&gt; [2021-01-17 00:11:18]    Loading Cache...</span></a>
<a class="sourceLine" id="cb5-76" data-line-number="76"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb5-77" data-line-number="77"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-78" data-line-number="78"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-79" data-line-number="79"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-80" data-line-number="80"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb5-81" data-line-number="81"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803227)</span></a>
<a class="sourceLine" id="cb5-82" data-line-number="82"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb5-83" data-line-number="83"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-84" data-line-number="84"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb5-85" data-line-number="85"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb5-86" data-line-number="86"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb5-87" data-line-number="87"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-88" data-line-number="88"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-89" data-line-number="89"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-90" data-line-number="90"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb5-91" data-line-number="91"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-92" data-line-number="92"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb5-93" data-line-number="93"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-94" data-line-number="94"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb5-95" data-line-number="95"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-96" data-line-number="96"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb5-97" data-line-number="97"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb5-98" data-line-number="98"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-99" data-line-number="99"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb5-100" data-line-number="100"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb5-101" data-line-number="101"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb5-102" data-line-number="102"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-103" data-line-number="103"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb5-104" data-line-number="104"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb5-105" data-line-number="105"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb5-106" data-line-number="106"><span class="co">#&gt; [2021-01-17 00:11:18]    Loading Cache...</span></a>
<a class="sourceLine" id="cb5-107" data-line-number="107"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb5-108" data-line-number="108"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-109" data-line-number="109"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-110" data-line-number="110"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-111" data-line-number="111"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb5-112" data-line-number="112"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803130)</span></a>
<a class="sourceLine" id="cb5-113" data-line-number="113"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb5-114" data-line-number="114"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-115" data-line-number="115"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb5-116" data-line-number="116"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb5-117" data-line-number="117"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb5-118" data-line-number="118"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb5-119" data-line-number="119"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb5-120" data-line-number="120"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-121" data-line-number="121"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb5-122" data-line-number="122"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-123" data-line-number="123"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb5-124" data-line-number="124"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-125" data-line-number="125"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb5-126" data-line-number="126"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb5-127" data-line-number="127"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb5-128" data-line-number="128"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb5-129" data-line-number="129"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-130" data-line-number="130"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb5-131" data-line-number="131"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb5-132" data-line-number="132"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb5-133" data-line-number="133"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb5-134" data-line-number="134"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb5-135" data-line-number="135"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb5-136" data-line-number="136"><span class="co">#&gt; [2021-01-17 00:11:18]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb5-137" data-line-number="137"><span class="co">#&gt; [2021-01-17 00:11:18]    Target column: regimen_concept_id</span></a>
<a class="sourceLine" id="cb5-138" data-line-number="138"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb5-139" data-line-number="139"><span class="co">#&gt; [2021-01-17 00:11:18]    Dropping patelm9.V20210117001118...</span></a>
<a class="sourceLine" id="cb5-140" data-line-number="140"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-141" data-line-number="141"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb5-142" data-line-number="142"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-143" data-line-number="143"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb5-144" data-line-number="144"><span class="co">#&gt; [2021-01-17 00:11:18]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001118;</span></a>
<a class="sourceLine" id="cb5-145" data-line-number="145"><span class="co">#&gt; [2021-01-17 00:11:18]    Sending...</span></a>
<a class="sourceLine" id="cb5-146" data-line-number="146"><span class="co">#&gt; [2021-01-17 00:11:18]    Sending...complete</span></a>
<a class="sourceLine" id="cb5-147" data-line-number="147"><span class="co">#&gt; [2021-01-17 00:11:18]    Dropping patelm9.V20210117001118...complete</span></a>
<a class="sourceLine" id="cb5-148" data-line-number="148"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-149" data-line-number="149"><span class="co">#&gt; ✓ Data 'data' has more than 0 rows</span></a>
<a class="sourceLine" id="cb5-150" data-line-number="150"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-151" data-line-number="151"><span class="co">#&gt; ✓ Table name 'V20210117001118' is not a reserved word</span></a>
<a class="sourceLine" id="cb5-152" data-line-number="152"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-153" data-line-number="153"><span class="co">#&gt; ✓ Field name 'regimen_concept_id' is not a reserved word</span></a>
<a class="sourceLine" id="cb5-154" data-line-number="154"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-155" data-line-number="155"><span class="co">#&gt; ✓ Field name 'has_antineoplastic_concept_id' is not a reserved word</span></a>
<a class="sourceLine" id="cb5-156" data-line-number="156"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-157" data-line-number="157"><span class="co">#&gt; ✓ Field name 'has_antineoplastic_concept_name' is not a reserved word</span></a>
<a class="sourceLine" id="cb5-158" data-line-number="158"><span class="co">#&gt; [2021-01-17 00:11:18]    Writing patelm9.V20210117001118...</span></a>
<a class="sourceLine" id="cb5-159" data-line-number="159"><span class="co">#&gt; [2021-01-17 00:11:18]    Writing patelm9.V20210117001118...complete</span></a>
<a class="sourceLine" id="cb5-160" data-line-number="160"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-161" data-line-number="161"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb5-162" data-line-number="162"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-163" data-line-number="163"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb5-164" data-line-number="164"><span class="co">#&gt; [2021-01-17 00:11:18]    SQL: SELECT a.*, b.* FROM patelm9.V20210117001118 a LEFT JOIN omop_vocabulary.concept b ON a.regimen_concept_id = b.concept_id WHERE b.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb5-165" data-line-number="165"><span class="co">#&gt; [2021-01-17 00:11:18]    Querying...</span></a>
<a class="sourceLine" id="cb5-166" data-line-number="166"><span class="co">#&gt; [2021-01-17 00:11:18]    Querying...complete</span></a>
<a class="sourceLine" id="cb5-167" data-line-number="167"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-168" data-line-number="168"><span class="co">#&gt; ✓ Returned data has more than 0 rows</span></a>
<a class="sourceLine" id="cb5-169" data-line-number="169"><span class="co">#&gt; [2021-01-17 00:11:18]    Dropping patelm9.V20210117001118...</span></a>
<a class="sourceLine" id="cb5-170" data-line-number="170"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-171" data-line-number="171"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb5-172" data-line-number="172"><span class="co">#&gt; [2021-01-17 00:11:18]    </span></a>
<a class="sourceLine" id="cb5-173" data-line-number="173"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb5-174" data-line-number="174"><span class="co">#&gt; [2021-01-17 00:11:18]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001118;</span></a>
<a class="sourceLine" id="cb5-175" data-line-number="175"><span class="co">#&gt; [2021-01-17 00:11:18]    Sending...</span></a>
<a class="sourceLine" id="cb5-176" data-line-number="176"><span class="co">#&gt; [2021-01-17 00:11:18]    Sending...complete</span></a>
<a class="sourceLine" id="cb5-177" data-line-number="177"><span class="co">#&gt; [2021-01-17 00:11:18]    Dropping patelm9.V20210117001118...complete</span></a>
<a class="sourceLine" id="cb5-178" data-line-number="178"><span class="co">#&gt; [2021-01-17 00:11:18]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb5-179" data-line-number="179"><span class="co">#&gt; [2021-01-17 00:11:18]    Postgres connection to 'athena' closed</span></a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">new_regimen</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt;    regimen_concept_id                                  regimen_concept_name</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; 1            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; 2            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; 3            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; 4            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; 5            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; 6            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; 7            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; 8            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; 9            35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; 10           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; 11           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; 12           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt;    has_antineoplastic_concept_id has_antineoplastic_concept_name</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; 1                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; 2                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; 3                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; 4                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; 5                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; 6                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt; 7                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt; 8                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; 9                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt; 10                      35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt; 11                      35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt; 12                      35803227                     Oxaliplatin</span></a></code></pre></div>
<p>In this case, various combinations existed. However, what if a combination does not cleanly map to a HemOnc Regimen? For example, sometimes there is an add-on drug to an established Regimen for experimental reasons.</p>
<p>For demonstration purposes, suppose the new Components reduced down to Fluorouracil, Folinic acid, Oxaliplatin, and Irinotecan as well as Trastuzumab.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">Trastuzumab &lt;-<span class="st"> </span><span class="kw">get_concept</span>(<span class="dt">concept_id =</span> <span class="dv">35803361</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; [2021-01-17 00:11:18]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt; ✓ Concept Id `35803361` found in Concept Table</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18">Trastuzumab</a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21"><span class="co">#&gt; [1] 35803361</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="co">#&gt; [1] &quot;Trastuzumab&quot;</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb7-27" data-line-number="27"><span class="co">#&gt; [1] &quot;&quot;</span></a>
<a class="sourceLine" id="cb7-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-29" data-line-number="29"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb7-30" data-line-number="30"><span class="co">#&gt; [1] &quot;trastuzumab&quot;</span></a>
<a class="sourceLine" id="cb7-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-32" data-line-number="32"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb7-33" data-line-number="33"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb7-34" data-line-number="34"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-35" data-line-number="35"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb7-36" data-line-number="36"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb7-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-38" data-line-number="38"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb7-39" data-line-number="39"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb7-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-41" data-line-number="41"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb7-42" data-line-number="42"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb7-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-44" data-line-number="44"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb7-45" data-line-number="45"><span class="co">#&gt; [1] &quot;512&quot;</span></a>
<a class="sourceLine" id="cb7-46" data-line-number="46"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-47" data-line-number="47"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb7-48" data-line-number="48"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb7-49" data-line-number="49"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-50" data-line-number="50"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb7-51" data-line-number="51"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb7-52" data-line-number="52"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-53" data-line-number="53"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb7-54" data-line-number="54"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">new_component_ids2 &lt;-<span class="st"> </span><span class="kw">c</span>(new_components<span class="op">$</span>concept_id, Trastuzumab<span class="op">@</span>concept_id)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">new_component_ids2</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; [1] 35803077 35803081 35803227 35803130 35803361</span></a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">new_regimen2 &lt;-<span class="st"> </span><span class="kw">ho_lookup_regimen</span>(new_component_ids2)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt;                              WHERE c.concept_id IN (35803077,35803081,35803227,35803130,35803361)</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803077)</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-31" data-line-number="31"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb9-32" data-line-number="32"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-33" data-line-number="33"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 5</span></a>
<a class="sourceLine" id="cb9-34" data-line-number="34"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb9-35" data-line-number="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb9-36" data-line-number="36"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb9-37" data-line-number="37"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb9-38" data-line-number="38"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb9-39" data-line-number="39"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-40" data-line-number="40"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb9-41" data-line-number="41"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb9-42" data-line-number="42"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb9-43" data-line-number="43"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb9-44" data-line-number="44"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb9-45" data-line-number="45"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-46" data-line-number="46"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-47" data-line-number="47"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-48" data-line-number="48"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb9-49" data-line-number="49"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803081)</span></a>
<a class="sourceLine" id="cb9-50" data-line-number="50"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb9-51" data-line-number="51"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-52" data-line-number="52"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb9-53" data-line-number="53"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb9-54" data-line-number="54"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb9-55" data-line-number="55"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-56" data-line-number="56"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-57" data-line-number="57"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-58" data-line-number="58"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb9-59" data-line-number="59"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-60" data-line-number="60"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb9-61" data-line-number="61"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-62" data-line-number="62"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb9-63" data-line-number="63"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-64" data-line-number="64"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 5</span></a>
<a class="sourceLine" id="cb9-65" data-line-number="65"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb9-66" data-line-number="66"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb9-67" data-line-number="67"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb9-68" data-line-number="68"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb9-69" data-line-number="69"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb9-70" data-line-number="70"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-71" data-line-number="71"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb9-72" data-line-number="72"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb9-73" data-line-number="73"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb9-74" data-line-number="74"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb9-75" data-line-number="75"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb9-76" data-line-number="76"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-77" data-line-number="77"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-78" data-line-number="78"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-79" data-line-number="79"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb9-80" data-line-number="80"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803227)</span></a>
<a class="sourceLine" id="cb9-81" data-line-number="81"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb9-82" data-line-number="82"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-83" data-line-number="83"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb9-84" data-line-number="84"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb9-85" data-line-number="85"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb9-86" data-line-number="86"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-87" data-line-number="87"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-88" data-line-number="88"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-89" data-line-number="89"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb9-90" data-line-number="90"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-91" data-line-number="91"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb9-92" data-line-number="92"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-93" data-line-number="93"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb9-94" data-line-number="94"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-95" data-line-number="95"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 5</span></a>
<a class="sourceLine" id="cb9-96" data-line-number="96"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb9-97" data-line-number="97"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb9-98" data-line-number="98"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb9-99" data-line-number="99"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb9-100" data-line-number="100"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb9-101" data-line-number="101"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-102" data-line-number="102"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb9-103" data-line-number="103"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb9-104" data-line-number="104"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb9-105" data-line-number="105"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb9-106" data-line-number="106"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb9-107" data-line-number="107"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-108" data-line-number="108"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-109" data-line-number="109"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-110" data-line-number="110"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb9-111" data-line-number="111"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803130)</span></a>
<a class="sourceLine" id="cb9-112" data-line-number="112"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb9-113" data-line-number="113"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-114" data-line-number="114"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb9-115" data-line-number="115"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb9-116" data-line-number="116"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb9-117" data-line-number="117"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-118" data-line-number="118"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-119" data-line-number="119"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-120" data-line-number="120"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb9-121" data-line-number="121"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-122" data-line-number="122"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb9-123" data-line-number="123"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-124" data-line-number="124"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb9-125" data-line-number="125"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-126" data-line-number="126"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 5</span></a>
<a class="sourceLine" id="cb9-127" data-line-number="127"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb9-128" data-line-number="128"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb9-129" data-line-number="129"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb9-130" data-line-number="130"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb9-131" data-line-number="131"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb9-132" data-line-number="132"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-133" data-line-number="133"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb9-134" data-line-number="134"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb9-135" data-line-number="135"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb9-136" data-line-number="136"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb9-137" data-line-number="137"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb9-138" data-line-number="138"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-139" data-line-number="139"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-140" data-line-number="140"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-141" data-line-number="141"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb9-142" data-line-number="142"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803361)</span></a>
<a class="sourceLine" id="cb9-143" data-line-number="143"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb9-144" data-line-number="144"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-145" data-line-number="145"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb9-146" data-line-number="146"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb9-147" data-line-number="147"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb9-148" data-line-number="148"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb9-149" data-line-number="149"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb9-150" data-line-number="150"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-151" data-line-number="151"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb9-152" data-line-number="152"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-153" data-line-number="153"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb9-154" data-line-number="154"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb9-155" data-line-number="155"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb9-156" data-line-number="156"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb9-157" data-line-number="157"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 5</span></a>
<a class="sourceLine" id="cb9-158" data-line-number="158"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb9-159" data-line-number="159"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb9-160" data-line-number="160"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb9-161" data-line-number="161"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb9-162" data-line-number="162"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb9-163" data-line-number="163"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb9-164" data-line-number="164"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb9-165" data-line-number="165"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb9-166" data-line-number="166"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb9-167" data-line-number="167"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a></code></pre></div>
<p>In this case, a regimen was not found as indicated by a zero row result.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">new_regimen2</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; # A tibble: 0 x 4</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt; # … with 4 variables: regimen_concept_id &lt;???&gt;, regimen_concept_name &lt;???&gt;,</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; #   has_antineoplastic_concept_id &lt;???&gt;, has_antineoplastic_concept_name &lt;???&gt;</span></a></code></pre></div>
<p>To find possible Regimen and Component combinations instead, subsets of the Components can be submitted to find matches using <code>ho_grep_regimens()</code> with starting <code>component_count</code> 1 value less than the total Component count. In this case, it is 4.</p>
<p>The Concept classes are retrieved for each of the Components.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">new_component_objs2 &lt;-<span class="st"> </span><span class="kw">lapply</span>(new_component_ids2,</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">                              get_concept)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; ✓ Concept Id `35803077` found in Concept Table</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-21" data-line-number="21"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-23" data-line-number="23"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-24" data-line-number="24"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-25" data-line-number="25"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-26" data-line-number="26"><span class="co">#&gt; ✓ Concept Id `35803081` found in Concept Table</span></a>
<a class="sourceLine" id="cb11-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-28" data-line-number="28"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-29" data-line-number="29"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-30" data-line-number="30"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-32" data-line-number="32"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-33" data-line-number="33"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-34" data-line-number="34"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-35" data-line-number="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-36" data-line-number="36"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-37" data-line-number="37"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb11-38" data-line-number="38"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-39" data-line-number="39"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-40" data-line-number="40"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-41" data-line-number="41"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-42" data-line-number="42"><span class="co">#&gt; ✓ Concept Id `35803227` found in Concept Table</span></a>
<a class="sourceLine" id="cb11-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-44" data-line-number="44"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-45" data-line-number="45"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-46" data-line-number="46"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-47" data-line-number="47"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-48" data-line-number="48"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-49" data-line-number="49"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-50" data-line-number="50"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-51" data-line-number="51"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-52" data-line-number="52"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-53" data-line-number="53"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb11-54" data-line-number="54"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-55" data-line-number="55"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-56" data-line-number="56"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-57" data-line-number="57"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-58" data-line-number="58"><span class="co">#&gt; ✓ Concept Id `35803130` found in Concept Table</span></a>
<a class="sourceLine" id="cb11-59" data-line-number="59"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-60" data-line-number="60"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-61" data-line-number="61"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-62" data-line-number="62"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-63" data-line-number="63"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-64" data-line-number="64"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-65" data-line-number="65"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-66" data-line-number="66"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-67" data-line-number="67"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-68" data-line-number="68"><span class="co">#&gt; ── Is Concept Id Valid Integer? ────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-69" data-line-number="69"><span class="co">#&gt; ✓ Concept Id is a valid integer</span></a>
<a class="sourceLine" id="cb11-70" data-line-number="70"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-71" data-line-number="71"><span class="co">#&gt; ── Lookup Concept Id in Concept Table ──────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-72" data-line-number="72"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-73" data-line-number="73"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-74" data-line-number="74"><span class="co">#&gt; ✓ Concept Id `35803361` found in Concept Table</span></a>
<a class="sourceLine" id="cb11-75" data-line-number="75"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-76" data-line-number="76"><span class="co">#&gt; ── Lookup Synonyms ─────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-77" data-line-number="77"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-78" data-line-number="78"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-79" data-line-number="79"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-80" data-line-number="80"><span class="co">#&gt; ── Lookup 'Maps to' Concept Names ──────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb11-81" data-line-number="81"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb11-82" data-line-number="82"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb11-83" data-line-number="83"><span class="kw">names</span>(new_component_objs2) &lt;-<span class="st"> </span><span class="kw">lapply</span>(new_component_objs2,</a>
<a class="sourceLine" id="cb11-84" data-line-number="84">                                     <span class="cf">function</span>(x) <span class="kw">slot</span>(x, <span class="st">&quot;concept_name&quot;</span>))</a>
<a class="sourceLine" id="cb11-85" data-line-number="85">new_component_objs2</a>
<a class="sourceLine" id="cb11-86" data-line-number="86"><span class="co">#&gt; $Fluorouracil</span></a>
<a class="sourceLine" id="cb11-87" data-line-number="87"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb11-88" data-line-number="88"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb11-89" data-line-number="89"><span class="co">#&gt; [1] 35803077</span></a>
<a class="sourceLine" id="cb11-90" data-line-number="90"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-91" data-line-number="91"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb11-92" data-line-number="92"><span class="co">#&gt; [1] &quot;Fluorouracil&quot;</span></a>
<a class="sourceLine" id="cb11-93" data-line-number="93"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-94" data-line-number="94"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb11-95" data-line-number="95"><span class="co">#&gt; [1] &quot;5 FU|5 Fluorouracil|5-fluoracilo|5-fluorouracilo|5-fluorouracyl|FU|Ro-2-9757&quot;</span></a>
<a class="sourceLine" id="cb11-96" data-line-number="96"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-97" data-line-number="97"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb11-98" data-line-number="98"><span class="co">#&gt; [1] &quot;fluorouracil&quot;</span></a>
<a class="sourceLine" id="cb11-99" data-line-number="99"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-100" data-line-number="100"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb11-101" data-line-number="101"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb11-102" data-line-number="102"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-103" data-line-number="103"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb11-104" data-line-number="104"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb11-105" data-line-number="105"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-106" data-line-number="106"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb11-107" data-line-number="107"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb11-108" data-line-number="108"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-109" data-line-number="109"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb11-110" data-line-number="110"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-111" data-line-number="111"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-112" data-line-number="112"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb11-113" data-line-number="113"><span class="co">#&gt; [1] &quot;225&quot;</span></a>
<a class="sourceLine" id="cb11-114" data-line-number="114"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-115" data-line-number="115"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb11-116" data-line-number="116"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb11-117" data-line-number="117"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-118" data-line-number="118"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb11-119" data-line-number="119"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb11-120" data-line-number="120"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-121" data-line-number="121"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb11-122" data-line-number="122"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-123" data-line-number="123"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-124" data-line-number="124"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-125" data-line-number="125"><span class="co">#&gt; $`Folinic acid`</span></a>
<a class="sourceLine" id="cb11-126" data-line-number="126"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb11-127" data-line-number="127"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb11-128" data-line-number="128"><span class="co">#&gt; [1] 35803081</span></a>
<a class="sourceLine" id="cb11-129" data-line-number="129"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-130" data-line-number="130"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb11-131" data-line-number="131"><span class="co">#&gt; [1] &quot;Folinic acid&quot;</span></a>
<a class="sourceLine" id="cb11-132" data-line-number="132"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-133" data-line-number="133"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb11-134" data-line-number="134"><span class="co">#&gt; [1] &quot;LV|citrovorum factor|folinate calcium|folinato de calcio|sodium folinate&quot;</span></a>
<a class="sourceLine" id="cb11-135" data-line-number="135"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-136" data-line-number="136"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb11-137" data-line-number="137"><span class="co">#&gt; [1] &quot;leucovorin&quot;</span></a>
<a class="sourceLine" id="cb11-138" data-line-number="138"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-139" data-line-number="139"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb11-140" data-line-number="140"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb11-141" data-line-number="141"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-142" data-line-number="142"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb11-143" data-line-number="143"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb11-144" data-line-number="144"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-145" data-line-number="145"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb11-146" data-line-number="146"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb11-147" data-line-number="147"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-148" data-line-number="148"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb11-149" data-line-number="149"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-150" data-line-number="150"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-151" data-line-number="151"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb11-152" data-line-number="152"><span class="co">#&gt; [1] &quot;229&quot;</span></a>
<a class="sourceLine" id="cb11-153" data-line-number="153"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-154" data-line-number="154"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb11-155" data-line-number="155"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb11-156" data-line-number="156"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-157" data-line-number="157"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb11-158" data-line-number="158"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb11-159" data-line-number="159"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-160" data-line-number="160"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb11-161" data-line-number="161"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-162" data-line-number="162"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-163" data-line-number="163"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-164" data-line-number="164"><span class="co">#&gt; $Oxaliplatin</span></a>
<a class="sourceLine" id="cb11-165" data-line-number="165"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb11-166" data-line-number="166"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb11-167" data-line-number="167"><span class="co">#&gt; [1] 35803227</span></a>
<a class="sourceLine" id="cb11-168" data-line-number="168"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-169" data-line-number="169"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb11-170" data-line-number="170"><span class="co">#&gt; [1] &quot;Oxaliplatin&quot;</span></a>
<a class="sourceLine" id="cb11-171" data-line-number="171"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-172" data-line-number="172"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb11-173" data-line-number="173"><span class="co">#&gt; [1] &quot;JM-83|RP-54780|SR-96669&quot;</span></a>
<a class="sourceLine" id="cb11-174" data-line-number="174"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-175" data-line-number="175"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb11-176" data-line-number="176"><span class="co">#&gt; [1] &quot;oxaliplatin&quot;</span></a>
<a class="sourceLine" id="cb11-177" data-line-number="177"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-178" data-line-number="178"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb11-179" data-line-number="179"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb11-180" data-line-number="180"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-181" data-line-number="181"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb11-182" data-line-number="182"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb11-183" data-line-number="183"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-184" data-line-number="184"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb11-185" data-line-number="185"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb11-186" data-line-number="186"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-187" data-line-number="187"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb11-188" data-line-number="188"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-189" data-line-number="189"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-190" data-line-number="190"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb11-191" data-line-number="191"><span class="co">#&gt; [1] &quot;377&quot;</span></a>
<a class="sourceLine" id="cb11-192" data-line-number="192"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-193" data-line-number="193"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb11-194" data-line-number="194"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb11-195" data-line-number="195"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-196" data-line-number="196"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb11-197" data-line-number="197"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb11-198" data-line-number="198"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-199" data-line-number="199"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb11-200" data-line-number="200"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-201" data-line-number="201"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-202" data-line-number="202"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-203" data-line-number="203"><span class="co">#&gt; $Irinotecan</span></a>
<a class="sourceLine" id="cb11-204" data-line-number="204"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb11-205" data-line-number="205"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb11-206" data-line-number="206"><span class="co">#&gt; [1] 35803130</span></a>
<a class="sourceLine" id="cb11-207" data-line-number="207"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-208" data-line-number="208"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb11-209" data-line-number="209"><span class="co">#&gt; [1] &quot;Irinotecan&quot;</span></a>
<a class="sourceLine" id="cb11-210" data-line-number="210"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-211" data-line-number="211"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb11-212" data-line-number="212"><span class="co">#&gt; [1] &quot;CPT-11|Camptothecin-11|U-101440E&quot;</span></a>
<a class="sourceLine" id="cb11-213" data-line-number="213"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-214" data-line-number="214"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb11-215" data-line-number="215"><span class="co">#&gt; [1] &quot;irinotecan&quot;</span></a>
<a class="sourceLine" id="cb11-216" data-line-number="216"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-217" data-line-number="217"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb11-218" data-line-number="218"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb11-219" data-line-number="219"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-220" data-line-number="220"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb11-221" data-line-number="221"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb11-222" data-line-number="222"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-223" data-line-number="223"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb11-224" data-line-number="224"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb11-225" data-line-number="225"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-226" data-line-number="226"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb11-227" data-line-number="227"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-228" data-line-number="228"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-229" data-line-number="229"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb11-230" data-line-number="230"><span class="co">#&gt; [1] &quot;280&quot;</span></a>
<a class="sourceLine" id="cb11-231" data-line-number="231"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-232" data-line-number="232"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb11-233" data-line-number="233"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb11-234" data-line-number="234"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-235" data-line-number="235"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb11-236" data-line-number="236"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb11-237" data-line-number="237"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-238" data-line-number="238"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb11-239" data-line-number="239"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-240" data-line-number="240"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-241" data-line-number="241"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-242" data-line-number="242"><span class="co">#&gt; $Trastuzumab</span></a>
<a class="sourceLine" id="cb11-243" data-line-number="243"><span class="co">#&gt; An object of class &quot;concept&quot;</span></a>
<a class="sourceLine" id="cb11-244" data-line-number="244"><span class="co">#&gt; Slot &quot;concept_id&quot;:</span></a>
<a class="sourceLine" id="cb11-245" data-line-number="245"><span class="co">#&gt; [1] 35803361</span></a>
<a class="sourceLine" id="cb11-246" data-line-number="246"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-247" data-line-number="247"><span class="co">#&gt; Slot &quot;concept_name&quot;:</span></a>
<a class="sourceLine" id="cb11-248" data-line-number="248"><span class="co">#&gt; [1] &quot;Trastuzumab&quot;</span></a>
<a class="sourceLine" id="cb11-249" data-line-number="249"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-250" data-line-number="250"><span class="co">#&gt; Slot &quot;concept_synonym_names&quot;:</span></a>
<a class="sourceLine" id="cb11-251" data-line-number="251"><span class="co">#&gt; [1] &quot;&quot;</span></a>
<a class="sourceLine" id="cb11-252" data-line-number="252"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-253" data-line-number="253"><span class="co">#&gt; Slot &quot;maps_to_concept_names&quot;:</span></a>
<a class="sourceLine" id="cb11-254" data-line-number="254"><span class="co">#&gt; [1] &quot;trastuzumab&quot;</span></a>
<a class="sourceLine" id="cb11-255" data-line-number="255"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-256" data-line-number="256"><span class="co">#&gt; Slot &quot;domain_id&quot;:</span></a>
<a class="sourceLine" id="cb11-257" data-line-number="257"><span class="co">#&gt; [1] &quot;Drug&quot;</span></a>
<a class="sourceLine" id="cb11-258" data-line-number="258"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-259" data-line-number="259"><span class="co">#&gt; Slot &quot;vocabulary_id&quot;:</span></a>
<a class="sourceLine" id="cb11-260" data-line-number="260"><span class="co">#&gt; [1] &quot;HemOnc&quot;</span></a>
<a class="sourceLine" id="cb11-261" data-line-number="261"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-262" data-line-number="262"><span class="co">#&gt; Slot &quot;concept_class_id&quot;:</span></a>
<a class="sourceLine" id="cb11-263" data-line-number="263"><span class="co">#&gt; [1] &quot;Component&quot;</span></a>
<a class="sourceLine" id="cb11-264" data-line-number="264"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-265" data-line-number="265"><span class="co">#&gt; Slot &quot;standard_concept&quot;:</span></a>
<a class="sourceLine" id="cb11-266" data-line-number="266"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb11-267" data-line-number="267"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-268" data-line-number="268"><span class="co">#&gt; Slot &quot;concept_code&quot;:</span></a>
<a class="sourceLine" id="cb11-269" data-line-number="269"><span class="co">#&gt; [1] &quot;512&quot;</span></a>
<a class="sourceLine" id="cb11-270" data-line-number="270"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-271" data-line-number="271"><span class="co">#&gt; Slot &quot;valid_start_date&quot;:</span></a>
<a class="sourceLine" id="cb11-272" data-line-number="272"><span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></a>
<a class="sourceLine" id="cb11-273" data-line-number="273"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-274" data-line-number="274"><span class="co">#&gt; Slot &quot;valid_end_date&quot;:</span></a>
<a class="sourceLine" id="cb11-275" data-line-number="275"><span class="co">#&gt; [1] &quot;2099-12-31&quot;</span></a>
<a class="sourceLine" id="cb11-276" data-line-number="276"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-277" data-line-number="277"><span class="co">#&gt; Slot &quot;invalid_reason&quot;:</span></a>
<a class="sourceLine" id="cb11-278" data-line-number="278"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>All the possible Component permutations are made by removing one of the Components.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">new_component_permutations &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(new_component_objs2)) {</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  new_component_permutations[[i]] &lt;-</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="st">  </span>new_component_objs2[<span class="op">-</span>i]</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">  <span class="kw">names</span>(new_component_permutations)[i] &lt;-<span class="st"> </span>new_component_objs2[[i]]<span class="op">@</span>concept_name</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">}</a></code></pre></div>
<p>The resulting input is of the same length as the source Components (5) and each value in the list is composed of 4 (5 minus 1) Components. The names of the removed Component in a particular permutation is also saved as the name.</p>
<p>The permutations are mapped to Regimens.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">new_regimens2 &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(new_component_permutations)) {</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb13-4" data-line-number="4">  new_regimens2[[i]] &lt;-</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="st">  </span><span class="kw">ho_lookup_regimen</span>(new_component_permutations[[i]])</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;                              WHERE c.concept_id IN (35803081,35803227,35803130,35803361)</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-18" data-line-number="18"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-19" data-line-number="19"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-20" data-line-number="20"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-21" data-line-number="21"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-22" data-line-number="22"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-23" data-line-number="23"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803081)</span></a>
<a class="sourceLine" id="cb13-24" data-line-number="24"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-25" data-line-number="25"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-26" data-line-number="26"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-27" data-line-number="27"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-28" data-line-number="28"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-29" data-line-number="29"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-30" data-line-number="30"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-31" data-line-number="31"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-32" data-line-number="32"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-33" data-line-number="33"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-34" data-line-number="34"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-35" data-line-number="35"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-36" data-line-number="36"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-37" data-line-number="37"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-38" data-line-number="38"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-39" data-line-number="39"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-41" data-line-number="41"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-42" data-line-number="42"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-43" data-line-number="43"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-44" data-line-number="44"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-45" data-line-number="45"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-46" data-line-number="46"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-47" data-line-number="47"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-48" data-line-number="48"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-49" data-line-number="49"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-50" data-line-number="50"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-51" data-line-number="51"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-52" data-line-number="52"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-53" data-line-number="53"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-54" data-line-number="54"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803227)</span></a>
<a class="sourceLine" id="cb13-55" data-line-number="55"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-56" data-line-number="56"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-57" data-line-number="57"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-58" data-line-number="58"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-59" data-line-number="59"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-60" data-line-number="60"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-61" data-line-number="61"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-62" data-line-number="62"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-63" data-line-number="63"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-64" data-line-number="64"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-65" data-line-number="65"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-66" data-line-number="66"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-67" data-line-number="67"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-68" data-line-number="68"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-69" data-line-number="69"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-70" data-line-number="70"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-71" data-line-number="71"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-72" data-line-number="72"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-73" data-line-number="73"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-74" data-line-number="74"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-75" data-line-number="75"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-76" data-line-number="76"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-77" data-line-number="77"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-78" data-line-number="78"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-79" data-line-number="79"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-80" data-line-number="80"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-81" data-line-number="81"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-82" data-line-number="82"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-83" data-line-number="83"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-84" data-line-number="84"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-85" data-line-number="85"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803130)</span></a>
<a class="sourceLine" id="cb13-86" data-line-number="86"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-87" data-line-number="87"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-88" data-line-number="88"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-89" data-line-number="89"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-90" data-line-number="90"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-91" data-line-number="91"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-92" data-line-number="92"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-93" data-line-number="93"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-94" data-line-number="94"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-95" data-line-number="95"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-96" data-line-number="96"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-97" data-line-number="97"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-98" data-line-number="98"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-99" data-line-number="99"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-100" data-line-number="100"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-101" data-line-number="101"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-102" data-line-number="102"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-103" data-line-number="103"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-104" data-line-number="104"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-105" data-line-number="105"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-106" data-line-number="106"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-107" data-line-number="107"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-108" data-line-number="108"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-109" data-line-number="109"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-110" data-line-number="110"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-111" data-line-number="111"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-112" data-line-number="112"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-113" data-line-number="113"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-114" data-line-number="114"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-115" data-line-number="115"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-116" data-line-number="116"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803361)</span></a>
<a class="sourceLine" id="cb13-117" data-line-number="117"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-118" data-line-number="118"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-119" data-line-number="119"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-120" data-line-number="120"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-121" data-line-number="121"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-122" data-line-number="122"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-123" data-line-number="123"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-124" data-line-number="124"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-125" data-line-number="125"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-126" data-line-number="126"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-127" data-line-number="127"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-128" data-line-number="128"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-129" data-line-number="129"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-130" data-line-number="130"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-131" data-line-number="131"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-132" data-line-number="132"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-133" data-line-number="133"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-134" data-line-number="134"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-135" data-line-number="135"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-136" data-line-number="136"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-137" data-line-number="137"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-138" data-line-number="138"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-139" data-line-number="139"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-140" data-line-number="140"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-141" data-line-number="141"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-142" data-line-number="142"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-143" data-line-number="143"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-144" data-line-number="144"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-145" data-line-number="145"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb13-146" data-line-number="146"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-147" data-line-number="147"><span class="co">#&gt;                              WHERE c.concept_id IN (35803077,35803227,35803130,35803361)</span></a>
<a class="sourceLine" id="cb13-148" data-line-number="148"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-149" data-line-number="149"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb13-150" data-line-number="150"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-151" data-line-number="151"><span class="co">#&gt; [2021-01-17 00:11:19]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-152" data-line-number="152"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-153" data-line-number="153"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-154" data-line-number="154"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-155" data-line-number="155"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-156" data-line-number="156"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-157" data-line-number="157"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-158" data-line-number="158"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803077)</span></a>
<a class="sourceLine" id="cb13-159" data-line-number="159"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-160" data-line-number="160"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-161" data-line-number="161"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-162" data-line-number="162"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-163" data-line-number="163"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-164" data-line-number="164"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-165" data-line-number="165"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-166" data-line-number="166"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-167" data-line-number="167"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-168" data-line-number="168"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-169" data-line-number="169"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-170" data-line-number="170"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-171" data-line-number="171"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-172" data-line-number="172"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-173" data-line-number="173"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-174" data-line-number="174"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-175" data-line-number="175"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-176" data-line-number="176"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-177" data-line-number="177"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-178" data-line-number="178"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-179" data-line-number="179"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-180" data-line-number="180"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-181" data-line-number="181"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-182" data-line-number="182"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-183" data-line-number="183"><span class="co">#&gt; [2021-01-17 00:11:19]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-184" data-line-number="184"><span class="co">#&gt; [2021-01-17 00:11:19]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-185" data-line-number="185"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-186" data-line-number="186"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-187" data-line-number="187"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-188" data-line-number="188"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-189" data-line-number="189"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803227)</span></a>
<a class="sourceLine" id="cb13-190" data-line-number="190"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-191" data-line-number="191"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-192" data-line-number="192"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-193" data-line-number="193"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-194" data-line-number="194"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-195" data-line-number="195"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-196" data-line-number="196"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-197" data-line-number="197"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-198" data-line-number="198"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-199" data-line-number="199"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-200" data-line-number="200"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-201" data-line-number="201"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-202" data-line-number="202"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-203" data-line-number="203"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-204" data-line-number="204"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-205" data-line-number="205"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-206" data-line-number="206"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-207" data-line-number="207"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-208" data-line-number="208"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-209" data-line-number="209"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-210" data-line-number="210"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-211" data-line-number="211"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-212" data-line-number="212"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-213" data-line-number="213"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-214" data-line-number="214"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-215" data-line-number="215"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-216" data-line-number="216"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-217" data-line-number="217"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-218" data-line-number="218"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-219" data-line-number="219"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-220" data-line-number="220"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803130)</span></a>
<a class="sourceLine" id="cb13-221" data-line-number="221"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-222" data-line-number="222"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-223" data-line-number="223"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-224" data-line-number="224"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-225" data-line-number="225"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-226" data-line-number="226"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-227" data-line-number="227"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-228" data-line-number="228"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-229" data-line-number="229"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-230" data-line-number="230"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-231" data-line-number="231"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-232" data-line-number="232"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-233" data-line-number="233"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-234" data-line-number="234"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-235" data-line-number="235"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-236" data-line-number="236"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-237" data-line-number="237"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-238" data-line-number="238"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-239" data-line-number="239"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-240" data-line-number="240"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-241" data-line-number="241"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-242" data-line-number="242"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-243" data-line-number="243"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-244" data-line-number="244"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-245" data-line-number="245"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-246" data-line-number="246"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-247" data-line-number="247"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-248" data-line-number="248"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-249" data-line-number="249"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-250" data-line-number="250"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-251" data-line-number="251"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803361)</span></a>
<a class="sourceLine" id="cb13-252" data-line-number="252"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-253" data-line-number="253"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-254" data-line-number="254"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-255" data-line-number="255"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-256" data-line-number="256"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-257" data-line-number="257"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-258" data-line-number="258"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-259" data-line-number="259"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-260" data-line-number="260"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-261" data-line-number="261"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-262" data-line-number="262"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-263" data-line-number="263"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-264" data-line-number="264"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-265" data-line-number="265"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-266" data-line-number="266"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-267" data-line-number="267"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-268" data-line-number="268"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-269" data-line-number="269"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-270" data-line-number="270"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-271" data-line-number="271"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-272" data-line-number="272"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-273" data-line-number="273"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-274" data-line-number="274"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-275" data-line-number="275"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-276" data-line-number="276"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-277" data-line-number="277"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-278" data-line-number="278"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-279" data-line-number="279"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-280" data-line-number="280"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb13-281" data-line-number="281"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-282" data-line-number="282"><span class="co">#&gt;                              WHERE c.concept_id IN (35803077,35803081,35803130,35803361)</span></a>
<a class="sourceLine" id="cb13-283" data-line-number="283"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-284" data-line-number="284"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb13-285" data-line-number="285"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-286" data-line-number="286"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-287" data-line-number="287"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-288" data-line-number="288"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-289" data-line-number="289"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-290" data-line-number="290"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-291" data-line-number="291"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-292" data-line-number="292"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-293" data-line-number="293"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803077)</span></a>
<a class="sourceLine" id="cb13-294" data-line-number="294"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-295" data-line-number="295"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-296" data-line-number="296"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-297" data-line-number="297"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-298" data-line-number="298"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-299" data-line-number="299"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-300" data-line-number="300"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-301" data-line-number="301"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-302" data-line-number="302"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-303" data-line-number="303"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-304" data-line-number="304"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-305" data-line-number="305"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-306" data-line-number="306"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-307" data-line-number="307"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-308" data-line-number="308"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-309" data-line-number="309"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-310" data-line-number="310"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-311" data-line-number="311"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-312" data-line-number="312"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-313" data-line-number="313"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-314" data-line-number="314"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-315" data-line-number="315"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-316" data-line-number="316"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-317" data-line-number="317"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-318" data-line-number="318"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-319" data-line-number="319"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-320" data-line-number="320"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-321" data-line-number="321"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-322" data-line-number="322"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-323" data-line-number="323"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-324" data-line-number="324"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803081)</span></a>
<a class="sourceLine" id="cb13-325" data-line-number="325"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-326" data-line-number="326"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-327" data-line-number="327"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-328" data-line-number="328"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-329" data-line-number="329"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-330" data-line-number="330"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-331" data-line-number="331"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-332" data-line-number="332"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-333" data-line-number="333"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-334" data-line-number="334"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-335" data-line-number="335"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-336" data-line-number="336"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-337" data-line-number="337"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-338" data-line-number="338"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-339" data-line-number="339"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-340" data-line-number="340"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-341" data-line-number="341"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-342" data-line-number="342"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-343" data-line-number="343"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-344" data-line-number="344"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-345" data-line-number="345"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-346" data-line-number="346"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-347" data-line-number="347"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-348" data-line-number="348"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-349" data-line-number="349"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-350" data-line-number="350"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-351" data-line-number="351"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-352" data-line-number="352"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-353" data-line-number="353"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-354" data-line-number="354"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-355" data-line-number="355"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803130)</span></a>
<a class="sourceLine" id="cb13-356" data-line-number="356"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-357" data-line-number="357"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-358" data-line-number="358"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-359" data-line-number="359"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-360" data-line-number="360"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-361" data-line-number="361"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-362" data-line-number="362"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-363" data-line-number="363"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-364" data-line-number="364"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-365" data-line-number="365"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-366" data-line-number="366"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-367" data-line-number="367"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-368" data-line-number="368"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-369" data-line-number="369"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-370" data-line-number="370"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-371" data-line-number="371"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-372" data-line-number="372"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-373" data-line-number="373"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-374" data-line-number="374"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-375" data-line-number="375"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-376" data-line-number="376"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-377" data-line-number="377"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-378" data-line-number="378"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-379" data-line-number="379"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-380" data-line-number="380"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-381" data-line-number="381"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-382" data-line-number="382"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-383" data-line-number="383"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-384" data-line-number="384"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-385" data-line-number="385"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-386" data-line-number="386"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803361)</span></a>
<a class="sourceLine" id="cb13-387" data-line-number="387"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-388" data-line-number="388"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-389" data-line-number="389"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-390" data-line-number="390"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-391" data-line-number="391"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-392" data-line-number="392"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-393" data-line-number="393"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-394" data-line-number="394"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-395" data-line-number="395"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-396" data-line-number="396"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-397" data-line-number="397"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-398" data-line-number="398"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-399" data-line-number="399"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-400" data-line-number="400"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-401" data-line-number="401"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-402" data-line-number="402"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-403" data-line-number="403"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-404" data-line-number="404"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-405" data-line-number="405"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-406" data-line-number="406"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-407" data-line-number="407"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-408" data-line-number="408"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-409" data-line-number="409"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-410" data-line-number="410"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-411" data-line-number="411"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-412" data-line-number="412"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-413" data-line-number="413"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-414" data-line-number="414"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-415" data-line-number="415"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb13-416" data-line-number="416"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-417" data-line-number="417"><span class="co">#&gt;                              WHERE c.concept_id IN (35803077,35803081,35803227,35803361)</span></a>
<a class="sourceLine" id="cb13-418" data-line-number="418"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-419" data-line-number="419"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb13-420" data-line-number="420"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-421" data-line-number="421"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-422" data-line-number="422"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-423" data-line-number="423"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-424" data-line-number="424"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-425" data-line-number="425"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-426" data-line-number="426"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-427" data-line-number="427"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-428" data-line-number="428"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803077)</span></a>
<a class="sourceLine" id="cb13-429" data-line-number="429"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-430" data-line-number="430"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-431" data-line-number="431"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-432" data-line-number="432"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-433" data-line-number="433"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-434" data-line-number="434"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-435" data-line-number="435"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-436" data-line-number="436"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-437" data-line-number="437"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-438" data-line-number="438"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-439" data-line-number="439"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-440" data-line-number="440"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-441" data-line-number="441"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-442" data-line-number="442"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-443" data-line-number="443"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-444" data-line-number="444"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-445" data-line-number="445"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-446" data-line-number="446"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-447" data-line-number="447"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-448" data-line-number="448"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-449" data-line-number="449"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-450" data-line-number="450"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-451" data-line-number="451"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-452" data-line-number="452"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-453" data-line-number="453"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-454" data-line-number="454"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-455" data-line-number="455"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-456" data-line-number="456"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-457" data-line-number="457"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-458" data-line-number="458"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-459" data-line-number="459"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803081)</span></a>
<a class="sourceLine" id="cb13-460" data-line-number="460"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-461" data-line-number="461"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-462" data-line-number="462"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-463" data-line-number="463"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-464" data-line-number="464"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-465" data-line-number="465"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-466" data-line-number="466"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-467" data-line-number="467"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-468" data-line-number="468"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-469" data-line-number="469"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-470" data-line-number="470"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-471" data-line-number="471"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-472" data-line-number="472"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-473" data-line-number="473"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-474" data-line-number="474"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-475" data-line-number="475"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-476" data-line-number="476"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-477" data-line-number="477"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-478" data-line-number="478"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-479" data-line-number="479"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-480" data-line-number="480"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-481" data-line-number="481"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-482" data-line-number="482"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-483" data-line-number="483"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-484" data-line-number="484"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-485" data-line-number="485"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-486" data-line-number="486"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-487" data-line-number="487"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-488" data-line-number="488"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-489" data-line-number="489"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-490" data-line-number="490"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803227)</span></a>
<a class="sourceLine" id="cb13-491" data-line-number="491"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-492" data-line-number="492"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-493" data-line-number="493"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-494" data-line-number="494"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-495" data-line-number="495"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-496" data-line-number="496"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-497" data-line-number="497"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-498" data-line-number="498"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-499" data-line-number="499"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-500" data-line-number="500"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-501" data-line-number="501"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-502" data-line-number="502"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-503" data-line-number="503"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-504" data-line-number="504"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-505" data-line-number="505"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-506" data-line-number="506"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-507" data-line-number="507"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-508" data-line-number="508"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-509" data-line-number="509"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-510" data-line-number="510"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-511" data-line-number="511"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-512" data-line-number="512"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-513" data-line-number="513"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-514" data-line-number="514"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-515" data-line-number="515"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-516" data-line-number="516"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-517" data-line-number="517"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-518" data-line-number="518"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-519" data-line-number="519"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-520" data-line-number="520"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-521" data-line-number="521"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803361)</span></a>
<a class="sourceLine" id="cb13-522" data-line-number="522"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-523" data-line-number="523"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-524" data-line-number="524"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-525" data-line-number="525"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-526" data-line-number="526"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-527" data-line-number="527"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-528" data-line-number="528"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-529" data-line-number="529"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-530" data-line-number="530"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-531" data-line-number="531"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-532" data-line-number="532"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-533" data-line-number="533"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-534" data-line-number="534"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-535" data-line-number="535"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-536" data-line-number="536"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-537" data-line-number="537"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-538" data-line-number="538"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-539" data-line-number="539"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-540" data-line-number="540"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-541" data-line-number="541"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-542" data-line-number="542"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-543" data-line-number="543"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-544" data-line-number="544"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-545" data-line-number="545"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-546" data-line-number="546"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-547" data-line-number="547"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-548" data-line-number="548"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-549" data-line-number="549"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-550" data-line-number="550"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: SELECT *</span></a>
<a class="sourceLine" id="cb13-551" data-line-number="551"><span class="co">#&gt;                              FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-552" data-line-number="552"><span class="co">#&gt;                              WHERE c.concept_id IN (35803077,35803081,35803227,35803130)</span></a>
<a class="sourceLine" id="cb13-553" data-line-number="553"><span class="co">#&gt;                                 AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-554" data-line-number="554"><span class="co">#&gt;                                 AND c.concept_class_id &lt;&gt; 'Component';</span></a>
<a class="sourceLine" id="cb13-555" data-line-number="555"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-556" data-line-number="556"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-557" data-line-number="557"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-558" data-line-number="558"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-559" data-line-number="559"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-560" data-line-number="560"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-561" data-line-number="561"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-562" data-line-number="562"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-563" data-line-number="563"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803077)</span></a>
<a class="sourceLine" id="cb13-564" data-line-number="564"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-565" data-line-number="565"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-566" data-line-number="566"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-567" data-line-number="567"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-568" data-line-number="568"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-569" data-line-number="569"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-570" data-line-number="570"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-571" data-line-number="571"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-572" data-line-number="572"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-573" data-line-number="573"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-574" data-line-number="574"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-575" data-line-number="575"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-576" data-line-number="576"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-577" data-line-number="577"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-578" data-line-number="578"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-579" data-line-number="579"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-580" data-line-number="580"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-581" data-line-number="581"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-582" data-line-number="582"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-583" data-line-number="583"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-584" data-line-number="584"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-585" data-line-number="585"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-586" data-line-number="586"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-587" data-line-number="587"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-588" data-line-number="588"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-589" data-line-number="589"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-590" data-line-number="590"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-591" data-line-number="591"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-592" data-line-number="592"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-593" data-line-number="593"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-594" data-line-number="594"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803081)</span></a>
<a class="sourceLine" id="cb13-595" data-line-number="595"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-596" data-line-number="596"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-597" data-line-number="597"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-598" data-line-number="598"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-599" data-line-number="599"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-600" data-line-number="600"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-601" data-line-number="601"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-602" data-line-number="602"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-603" data-line-number="603"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-604" data-line-number="604"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-605" data-line-number="605"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-606" data-line-number="606"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-607" data-line-number="607"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-608" data-line-number="608"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-609" data-line-number="609"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-610" data-line-number="610"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-611" data-line-number="611"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-612" data-line-number="612"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-613" data-line-number="613"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-614" data-line-number="614"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-615" data-line-number="615"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-616" data-line-number="616"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-617" data-line-number="617"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-618" data-line-number="618"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-619" data-line-number="619"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-620" data-line-number="620"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-621" data-line-number="621"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-622" data-line-number="622"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-623" data-line-number="623"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-624" data-line-number="624"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-625" data-line-number="625"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803227)</span></a>
<a class="sourceLine" id="cb13-626" data-line-number="626"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-627" data-line-number="627"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-628" data-line-number="628"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-629" data-line-number="629"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-630" data-line-number="630"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-631" data-line-number="631"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-632" data-line-number="632"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-633" data-line-number="633"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-634" data-line-number="634"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-635" data-line-number="635"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-636" data-line-number="636"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-637" data-line-number="637"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-638" data-line-number="638"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-639" data-line-number="639"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-640" data-line-number="640"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-641" data-line-number="641"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-642" data-line-number="642"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-643" data-line-number="643"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-644" data-line-number="644"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-645" data-line-number="645"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-646" data-line-number="646"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-647" data-line-number="647"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-648" data-line-number="648"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-649" data-line-number="649"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-650" data-line-number="650"><span class="co">#&gt; [2021-01-17 00:11:20]    Loading Cache...</span></a>
<a class="sourceLine" id="cb13-651" data-line-number="651"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached SQL: WITH component_regimens AS (</span></a>
<a class="sourceLine" id="cb13-652" data-line-number="652"><span class="co">#&gt;                                         SELECT cr.concept_id_2 AS regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-653" data-line-number="653"><span class="co">#&gt;                                         FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-654" data-line-number="654"><span class="co">#&gt;                                         LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-655" data-line-number="655"><span class="co">#&gt;                                         ON cr.concept_id_1 = c.concept_id</span></a>
<a class="sourceLine" id="cb13-656" data-line-number="656"><span class="co">#&gt;                                         WHERE c.concept_id IN (35803130)</span></a>
<a class="sourceLine" id="cb13-657" data-line-number="657"><span class="co">#&gt;                                             AND cr.relationship_id = 'Antineoplastic of'</span></a>
<a class="sourceLine" id="cb13-658" data-line-number="658"><span class="co">#&gt;                                             AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-659" data-line-number="659"><span class="co">#&gt;                                 ),</span></a>
<a class="sourceLine" id="cb13-660" data-line-number="660"><span class="co">#&gt;                                 regimens AS (</span></a>
<a class="sourceLine" id="cb13-661" data-line-number="661"><span class="co">#&gt;                                        SELECT DISTINCT cr.concept_id_1 AS regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-662" data-line-number="662"><span class="co">#&gt;                                        FROM omop_vocabulary.concept c</span></a>
<a class="sourceLine" id="cb13-663" data-line-number="663"><span class="co">#&gt;                                        LEFT JOIN omop_vocabulary.concept_relationship cr</span></a>
<a class="sourceLine" id="cb13-664" data-line-number="664"><span class="co">#&gt;                                        ON c.concept_id = cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-665" data-line-number="665"><span class="co">#&gt;                                        WHERE c.vocabulary_id = 'HemOnc'</span></a>
<a class="sourceLine" id="cb13-666" data-line-number="666"><span class="co">#&gt;                                        AND c.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-667" data-line-number="667"><span class="co">#&gt;                                        AND c.concept_class_id = 'Regimen'</span></a>
<a class="sourceLine" id="cb13-668" data-line-number="668"><span class="co">#&gt;                                        AND cr.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-669" data-line-number="669"><span class="co">#&gt;                                        AND cr.relationship_id = 'Has antineoplastic'</span></a>
<a class="sourceLine" id="cb13-670" data-line-number="670"><span class="co">#&gt;                                        GROUP BY cr.concept_id_1</span></a>
<a class="sourceLine" id="cb13-671" data-line-number="671"><span class="co">#&gt;                                        HAVING COUNT(cr.concept_id_2) = 4</span></a>
<a class="sourceLine" id="cb13-672" data-line-number="672"><span class="co">#&gt;                                 )</span></a>
<a class="sourceLine" id="cb13-673" data-line-number="673"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-674" data-line-number="674"><span class="co">#&gt;                                 SELECT t.*</span></a>
<a class="sourceLine" id="cb13-675" data-line-number="675"><span class="co">#&gt;                                 FROM component_regimens cr</span></a>
<a class="sourceLine" id="cb13-676" data-line-number="676"><span class="co">#&gt;                                 INNER JOIN regimens t</span></a>
<a class="sourceLine" id="cb13-677" data-line-number="677"><span class="co">#&gt;                                 ON t.regimen_concept_id = cr.regimen_i_concept_id</span></a>
<a class="sourceLine" id="cb13-678" data-line-number="678"><span class="co">#&gt;                                 ;</span></a>
<a class="sourceLine" id="cb13-679" data-line-number="679"><span class="co">#&gt;                                 </span></a>
<a class="sourceLine" id="cb13-680" data-line-number="680"><span class="co">#&gt; [2021-01-17 00:11:20]    Cached resultset found...</span></a>
<a class="sourceLine" id="cb13-681" data-line-number="681"><span class="co">#&gt; [2021-01-17 00:11:20]    Target column: regimen_concept_id</span></a>
<a class="sourceLine" id="cb13-682" data-line-number="682"><span class="co">#&gt; Connecting using PostgreSQL driver</span></a>
<a class="sourceLine" id="cb13-683" data-line-number="683"><span class="co">#&gt; [2021-01-17 00:11:20]    Dropping patelm9.V20210117001120...</span></a>
<a class="sourceLine" id="cb13-684" data-line-number="684"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-685" data-line-number="685"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb13-686" data-line-number="686"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-687" data-line-number="687"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb13-688" data-line-number="688"><span class="co">#&gt; [2021-01-17 00:11:20]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001120;</span></a>
<a class="sourceLine" id="cb13-689" data-line-number="689"><span class="co">#&gt; [2021-01-17 00:11:20]    Sending...</span></a>
<a class="sourceLine" id="cb13-690" data-line-number="690"><span class="co">#&gt; [2021-01-17 00:11:20]    Sending...complete</span></a>
<a class="sourceLine" id="cb13-691" data-line-number="691"><span class="co">#&gt; [2021-01-17 00:11:20]    Dropping patelm9.V20210117001120...complete</span></a>
<a class="sourceLine" id="cb13-692" data-line-number="692"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-693" data-line-number="693"><span class="co">#&gt; ✓ Data 'data' has more than 0 rows</span></a>
<a class="sourceLine" id="cb13-694" data-line-number="694"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-695" data-line-number="695"><span class="co">#&gt; ✓ Table name 'V20210117001120' is not a reserved word</span></a>
<a class="sourceLine" id="cb13-696" data-line-number="696"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-697" data-line-number="697"><span class="co">#&gt; ✓ Field name 'regimen_concept_id' is not a reserved word</span></a>
<a class="sourceLine" id="cb13-698" data-line-number="698"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-699" data-line-number="699"><span class="co">#&gt; ✓ Field name 'has_antineoplastic_concept_id' is not a reserved word</span></a>
<a class="sourceLine" id="cb13-700" data-line-number="700"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-701" data-line-number="701"><span class="co">#&gt; ✓ Field name 'has_antineoplastic_concept_name' is not a reserved word</span></a>
<a class="sourceLine" id="cb13-702" data-line-number="702"><span class="co">#&gt; [2021-01-17 00:11:20]    Writing patelm9.V20210117001120...</span></a>
<a class="sourceLine" id="cb13-703" data-line-number="703"><span class="co">#&gt; [2021-01-17 00:11:20]    Writing patelm9.V20210117001120...complete</span></a>
<a class="sourceLine" id="cb13-704" data-line-number="704"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-705" data-line-number="705"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb13-706" data-line-number="706"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-707" data-line-number="707"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb13-708" data-line-number="708"><span class="co">#&gt; [2021-01-17 00:11:20]    SQL: SELECT a.*, b.* FROM patelm9.V20210117001120 a LEFT JOIN omop_vocabulary.concept b ON a.regimen_concept_id = b.concept_id WHERE b.invalid_reason IS NULL</span></a>
<a class="sourceLine" id="cb13-709" data-line-number="709"><span class="co">#&gt; [2021-01-17 00:11:20]    Querying...</span></a>
<a class="sourceLine" id="cb13-710" data-line-number="710"><span class="co">#&gt; [2021-01-17 00:11:20]    Querying...complete</span></a>
<a class="sourceLine" id="cb13-711" data-line-number="711"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-712" data-line-number="712"><span class="co">#&gt; ✓ Returned data has more than 0 rows</span></a>
<a class="sourceLine" id="cb13-713" data-line-number="713"><span class="co">#&gt; [2021-01-17 00:11:20]    Dropping patelm9.V20210117001120...</span></a>
<a class="sourceLine" id="cb13-714" data-line-number="714"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-715" data-line-number="715"><span class="co">#&gt; ✓ Open connection</span></a>
<a class="sourceLine" id="cb13-716" data-line-number="716"><span class="co">#&gt; [2021-01-17 00:11:20]    </span></a>
<a class="sourceLine" id="cb13-717" data-line-number="717"><span class="co">#&gt; ✓ JDBC connection</span></a>
<a class="sourceLine" id="cb13-718" data-line-number="718"><span class="co">#&gt; [2021-01-17 00:11:20]    SQL: DROP TABLE IF EXISTS patelm9.V20210117001120;</span></a>
<a class="sourceLine" id="cb13-719" data-line-number="719"><span class="co">#&gt; [2021-01-17 00:11:20]    Sending...</span></a>
<a class="sourceLine" id="cb13-720" data-line-number="720"><span class="co">#&gt; [2021-01-17 00:11:20]    Sending...complete</span></a>
<a class="sourceLine" id="cb13-721" data-line-number="721"><span class="co">#&gt; [2021-01-17 00:11:20]    Dropping patelm9.V20210117001120...complete</span></a>
<a class="sourceLine" id="cb13-722" data-line-number="722"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-723" data-line-number="723"><span class="co">#&gt; [2021-01-17 00:11:20]    Postgres connection to 'athena' closed</span></a>
<a class="sourceLine" id="cb13-724" data-line-number="724"><span class="kw">names</span>(new_regimens2) &lt;-<span class="st"> </span><span class="kw">names</span>(new_component_permutations)</a>
<a class="sourceLine" id="cb13-725" data-line-number="725">new_regimens2 &lt;-</a>
<a class="sourceLine" id="cb13-726" data-line-number="726"><span class="st">  </span>new_regimens2 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-727" data-line-number="727"><span class="st">  </span>purrr<span class="op">::</span><span class="kw">keep</span>(<span class="op">~</span><span class="st"> </span><span class="kw">nrow</span>(.) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb13-728" data-line-number="728">new_regimens2</a>
<a class="sourceLine" id="cb13-729" data-line-number="729"><span class="co">#&gt; $Trastuzumab</span></a>
<a class="sourceLine" id="cb13-730" data-line-number="730"><span class="co">#&gt;    regimen_concept_id                                  regimen_concept_name</span></a>
<a class="sourceLine" id="cb13-731" data-line-number="731"><span class="co">#&gt; 1            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-732" data-line-number="732"><span class="co">#&gt; 2            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-733" data-line-number="733"><span class="co">#&gt; 3            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-734" data-line-number="734"><span class="co">#&gt; 4            35804771                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-735" data-line-number="735"><span class="co">#&gt; 5            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-736" data-line-number="736"><span class="co">#&gt; 6            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-737" data-line-number="737"><span class="co">#&gt; 7            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-738" data-line-number="738"><span class="co">#&gt; 8            35806584                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb13-739" data-line-number="739"><span class="co">#&gt; 9            35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb13-740" data-line-number="740"><span class="co">#&gt; 10           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb13-741" data-line-number="741"><span class="co">#&gt; 11           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb13-742" data-line-number="742"><span class="co">#&gt; 12           35807526 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a>
<a class="sourceLine" id="cb13-743" data-line-number="743"><span class="co">#&gt;    has_antineoplastic_concept_id has_antineoplastic_concept_name</span></a>
<a class="sourceLine" id="cb13-744" data-line-number="744"><span class="co">#&gt; 1                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb13-745" data-line-number="745"><span class="co">#&gt; 2                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb13-746" data-line-number="746"><span class="co">#&gt; 3                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb13-747" data-line-number="747"><span class="co">#&gt; 4                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb13-748" data-line-number="748"><span class="co">#&gt; 5                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb13-749" data-line-number="749"><span class="co">#&gt; 6                       35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb13-750" data-line-number="750"><span class="co">#&gt; 7                       35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb13-751" data-line-number="751"><span class="co">#&gt; 8                       35803227                     Oxaliplatin</span></a>
<a class="sourceLine" id="cb13-752" data-line-number="752"><span class="co">#&gt; 9                       35803077                    Fluorouracil</span></a>
<a class="sourceLine" id="cb13-753" data-line-number="753"><span class="co">#&gt; 10                      35803081                    Folinic acid</span></a>
<a class="sourceLine" id="cb13-754" data-line-number="754"><span class="co">#&gt; 11                      35803130                      Irinotecan</span></a>
<a class="sourceLine" id="cb13-755" data-line-number="755"><span class="co">#&gt; 12                      35803227                     Oxaliplatin</span></a></code></pre></div>
<p>Filtering for only the permutations that returned greater than zero rows, there are 3 potential regimens that a subset of 4 Components map to:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">new_regimens2 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw">bind_rows</span>(<span class="dt">.id =</span> <span class="st">&quot;add_on_component_name&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(add_on_component_name, regimen_concept_id, regimen_concept_name) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw">distinct</span>()</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt;   add_on_component_name regimen_concept_id</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; 1           Trastuzumab           35804771</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt; 2           Trastuzumab           35806584</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt; 3           Trastuzumab           35807526</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt;                                    regimen_concept_name</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; 1                                            FOLFIRINOX</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt; 2                                           mFOLFIRINOX</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; 3 FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation</span></a></code></pre></div>
<p>Therefore, the possible combinations are either FOLFIRINOX plus Trastuzumab, mFOLFIRINOX plus Trastuzumab, or FOLFIRINOX/modified FOLFIRINOX plus /- Chemoradiation plus Trastuzumab.</p>
<p>It is possible that the permutations do not return any rows in this scenario. If this is the case, it is likely more feasible to manually look up the mapping at  than to programmatically find matches.</p>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
