<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Filter Columns with Merged Concept Strips — filter_strip • chariot</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Filter Columns with Merged Concept Strips — filter_strip" />
<meta property="og:description" content="This function filters a column that contains Concept Strips using Concept Table parameters. The target column may contain 1 or more merged concept strip, and the multiple strips must be separated by a new line \&quot;\n\&quot; for the filter to operate correctly. It is important to note that the the filter is applied to the entire Concept Strip cell and will not alter the data content within the cell otherwise. For example, if the filter `vocabulary_id == 'RxNorm'` is used for `ColumnA`, a `ColumnA` cell that contains at least 1 RxNorm concept will be filtered for though there are other non-RxNorm concepts in that same cell." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">chariot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/explore-maps-to-relationship.html">Explore 'Maps to' Relationship</a>
    </li>
    <li>
      <a href="../articles/explore-relationships-and-ancestors.html">Explore Relationships and Ancestors</a>
    </li>
    <li>
      <a href="../articles/explore-vocabulary-relationships-and-ancestors.html">Explore Vocabulary Relationships and Ancestors</a>
    </li>
    <li>
      <a href="../articles/harmonizing-hemonc-concepts.html">Harmonizing HemOnc Concepts</a>
    </li>
    <li>
      <a href="../articles/mapping-to-hemonc.html">Mapping to HemOnc</a>
    </li>
    <li>
      <a href="../articles/pivot-concept-ancestor.html">Pivot Concept Ancestors and Descendants</a>
    </li>
    <li>
      <a href="../articles/pivot-concept-relationships.html">Pivot Concept Relationships</a>
    </li>
    <li>
      <a href="../articles/setup-drug-strength.html">Setup Drug Strength</a>
    </li>
    <li>
      <a href="../articles/string-manipulation.html">String Manipulation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/meerapatelmd/chariot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Filter Columns with Merged Concept Strips</h1>
    <small class="dont-index">Source: <a href='https://github.com/meerapatelmd/chariot/blob/master/R/format.R'><code>R/format.R</code></a></small>
    <div class="hidden name"><code>filter_strip.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function filters a column that contains Concept Strips using Concept Table parameters. The target column may contain 1 or more merged concept strip, and the multiple strips must be separated by a new line \"\n\" for the filter to operate correctly. It is important to note that the the filter is applied to the entire Concept Strip cell and will not alter the data content within the cell otherwise. For example, if the filter `vocabulary_id == 'RxNorm'` is used for `ColumnA`, a `ColumnA` cell that contains at least 1 RxNorm concept will be filtered for though there are other non-RxNorm concepts in that same cell.</p>
    </div>

    <pre class="usage"><span class='fu'>filter_strip</span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>strip_col</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>dataframe with the merged concept column</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments that will be passed to the dplyr filter function using the base Concept Table field names</p></td>
    </tr>
    <tr>
      <th>merge_col</th>
      <td><p>column of merged concepts</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with the same number of columns as the input with the number of rows equal or less than that of the input.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://dplyr.tidyverse.org/reference/tidyeval-compat.html'>tidyeval-compat</a></code>,<code><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></code>,<code><a href='https://dplyr.tidyverse.org/reference/filter_all.html'>filter_all</a></code>,<code><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></code>,<code><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></code>,<code><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></code>
 <code><a href='https://rlang.r-lib.org/reference/as_name.html'>as_name</a></code>
 <code><a href='https://tidyr.tidyverse.org/reference/separate_rows.html'>separate_rows</a></code>
 <code><a href='https://meerapatelmd.github.io/rubix/reference/normalize_all_to_na.html'>normalize_all_to_na</a></code></p>
<p>Other concept format functions: 
<code><a href='filter_at_all_strip.html'>filter_at_all_strip</a>()</code>,
<code><a href='filter_at_any_strip.html'>filter_at_any_strip</a>()</code>,
<code><a href='get_strip.html'>get_strip</a>()</code>,
<code><a href='label_to_strip.html'>label_to_strip</a>()</code>,
<code><a href='merge_label.html'>merge_label</a>()</code>,
<code><a href='merge_strip.html'>merge_strip</a>()</code>,
<code><a href='unbox_label.html'>unbox_label</a>()</code>,
<code><a href='unbox_strip.html'>unbox_strip</a>()</code>,
<code><a href='unmerge_label.html'>unmerge_label</a>()</code>,
<code><a href='unmerge_strip.html'>unmerge_strip</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://meerapatelmd.github.io/chariot/'>chariot</a></span><span class='op'>)</span>

<span class='va'>conn</span> <span class='op'>&lt;-</span> <span class='fu'><a href='connectAthena.html'>connectAthena</a></span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [2021-05-26 15:03:56]	Connected to 'athena'</div><div class='input'><span class='va'>test_data</span> <span class='op'>&lt;-</span>
        <span class='fu'><a href='queryAthena.html'>queryAthena</a></span><span class='op'>(</span><span class='st'>"SELECT * FROM omop_vocabulary.concept ORDER BY RANDOM() LIMIT 20;"</span>,
                    conn <span class='op'>=</span> <span class='va'>conn</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [2021-05-26 15:03:56]	<span style='color: #BB00BB;'>Loading Cache...</span><span>
#&gt; [2021-05-26 15:03:56]	</span><span style='color: #BB00BB;'>Cached SQL:</span><span> SELECT * FROM omop_vocabulary.concept ORDER BY RANDOM() LIMIT 20;
#&gt; [2021-05-26 15:03:56]	</span><span style='color: #BB00BB;'>Cached resultset found...</span><span></div><div class='input'>
<span class='co'># Merge</span>
<span class='fu'><a href='merge_strip.html'>merge_strip</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>test_data</span>,
            into <span class='op'>=</span> <span class='st'>"concept"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 20 x 2</span><span>
#&gt;    concept_id concept                                                           
#&gt;         </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                                             
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>   37</span><span style='text-decoration: underline;'>083</span><span>718 [V] [N] 37083718 Disorders of autonomic nervous system [ICD10GM G…
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>    3</span><span style='text-decoration: underline;'>414</span><span>550 [V] [N] 3414550 Traumatic brachial plexus lesion [Nebraska Lexico…
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>   45</span><span style='text-decoration: underline;'>110</span><span>479 [V] [N] 45110479 GNP CHLD IBUPROFEN 100 MG/5 ML [NDC 87701030771]…
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>   45</span><span style='text-decoration: underline;'>071</span><span>768 [V] [N] 45071768 metoprolol tartrate 50 MG Oral Tablet [NDC 55289…
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>   44</span><span style='text-decoration: underline;'>104</span><span>843 [V] [S] 44104843 ECHINACEA ANGUSTIFOLIA Extract 1 X [RxNorm Exten…
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>   44</span><span style='text-decoration: underline;'>799</span><span>086 [U] [N] 44799086 [X]Victim of avalanche, landslide and other eart…
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>    3</span><span style='text-decoration: underline;'>051</span><span>772 [V] [S] 3051772 MR Lower extremity joint - right WO and W contras…
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>   19</span><span style='text-decoration: underline;'>123</span><span>243 [U] [N] 19123243 Levobupivacaine 0.625 MG/ML Injectable Solution …
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>    3</span><span style='text-decoration: underline;'>652</span><span>026 [D] [N] 3652026 MIDODRINE HYDROCHLORIDE 2.5mg tablets [SNOMED 126…
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>   42</span><span style='text-decoration: underline;'>743</span><span>213 [V] [N] 42743213 Operations on other bone: bone grafting and -tra…
#&gt; </span><span style='color: #BCBCBC;'>11</span><span>    4</span><span style='text-decoration: underline;'>326</span><span>268 [V] [S] 4326268 Infection by Oesophagostomum apiostomum [SNOMED 7…
#&gt; </span><span style='color: #BCBCBC;'>12</span><span>   36</span><span style='text-decoration: underline;'>240</span><span>133 [V] [C] 36240133 Noctesed Oral Product [RxNorm 1184488] [Drug] [B…
#&gt; </span><span style='color: #BCBCBC;'>13</span><span>    3</span><span style='text-decoration: underline;'>234</span><span>609 [V] [N] 3234609 Finding of movement of uvula [Nebraska Lexicon 36…
#&gt; </span><span style='color: #BCBCBC;'>14</span><span>   42</span><span style='text-decoration: underline;'>061</span><span>633 [V] [S] 42061633 Bogalusa [OSM 132196] [Geography] [8th level]    
#&gt; </span><span style='color: #BCBCBC;'>15</span><span>   37</span><span style='text-decoration: underline;'>513</span><span>931 [V] [N] 37513931 oxcarbazepine 150 MG Oral Tablet [NDC 7051808940…
#&gt; </span><span style='color: #BCBCBC;'>16</span><span>   43</span><span style='text-decoration: underline;'>569</span><span>515 [V] [N] 43569515 Ginkgo Sandoz [RxNorm Extension OMOP888148] [Dru…
#&gt; </span><span style='color: #BCBCBC;'>17</span><span>   46</span><span style='text-decoration: underline;'>290</span><span>886 [V] [C] 46290886 LEG CRAMPS PM - oyster shell calcium carbonate, …
#&gt; </span><span style='color: #BCBCBC;'>18</span><span>   46</span><span style='text-decoration: underline;'>289</span><span>483 [V] [C] 46289483 TORK FOAM ANTIBACTERIAL - chloroxylenol soap [SP…
#&gt; </span><span style='color: #BCBCBC;'>19</span><span>   19</span><span style='text-decoration: underline;'>118</span><span>814 [D] [N] 19118814 Mitomycin 0.5 MG/ML [Mutamycin] [RxNorm 569802] …
#&gt; </span><span style='color: #BCBCBC;'>20</span><span>   21</span><span style='text-decoration: underline;'>136</span><span>931 [V] [S] 21136931 5 ML Regular Insulin, Human 100 UNT/ML Prefilled…</div><div class='input'>
<span class='co'># Merge while sparing some original columns such as vocabulary_id and</span>
<span class='co'># concept_class_id</span>
<span class='fu'><a href='merge_strip.html'>merge_strip</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>test_data</span>,
            into <span class='op'>=</span> <span class='st'>"concept"</span>,
            <span class='va'>vocabulary_id</span>,
            <span class='va'>concept_class_id</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 20 x 4</span><span>
#&gt;    concept_id concept                           vocabulary_id  concept_class_id 
#&gt;         </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>            
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>   37</span><span style='text-decoration: underline;'>083</span><span>718 [V] [N] 37083718 Disorders of au… ICD10GM        ICD10 Hierarchy  
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>    3</span><span style='text-decoration: underline;'>414</span><span>550 [V] [N] 3414550 Traumatic brachi… Nebraska Lexi… Clinical Finding 
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>   45</span><span style='text-decoration: underline;'>110</span><span>479 [V] [N] 45110479 GNP CHLD IBUPRO… NDC            11-digit NDC     
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>   45</span><span style='text-decoration: underline;'>071</span><span>768 [V] [N] 45071768 metoprolol tart… NDC            11-digit NDC     
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>   44</span><span style='text-decoration: underline;'>104</span><span>843 [V] [S] 44104843 ECHINACEA ANGUS… RxNorm Extens… Clinical Drug Co…
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>   44</span><span style='text-decoration: underline;'>799</span><span>086 [U] [N] 44799086 [X]Victim of av… SNOMED         Clinical Finding 
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>    3</span><span style='text-decoration: underline;'>051</span><span>772 [V] [S] 3051772 MR Lower extremi… LOINC          Clinical Observa…
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>   19</span><span style='text-decoration: underline;'>123</span><span>243 [U] [N] 19123243 Levobupivacaine… RxNorm         Clinical Drug    
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>    3</span><span style='text-decoration: underline;'>652</span><span>026 [D] [N] 3652026 MIDODRINE HYDROC… SNOMED         Context-dependent
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>   42</span><span style='text-decoration: underline;'>743</span><span>213 [V] [N] 42743213 Operations on o… OPS            Procedure        
#&gt; </span><span style='color: #BCBCBC;'>11</span><span>    4</span><span style='text-decoration: underline;'>326</span><span>268 [V] [S] 4326268 Infection by Oes… SNOMED         Clinical Finding 
#&gt; </span><span style='color: #BCBCBC;'>12</span><span>   36</span><span style='text-decoration: underline;'>240</span><span>133 [V] [C] 36240133 Noctesed Oral P… RxNorm         Branded Dose Gro…
#&gt; </span><span style='color: #BCBCBC;'>13</span><span>    3</span><span style='text-decoration: underline;'>234</span><span>609 [V] [N] 3234609 Finding of movem… Nebraska Lexi… Clinical Finding 
#&gt; </span><span style='color: #BCBCBC;'>14</span><span>   42</span><span style='text-decoration: underline;'>061</span><span>633 [V] [S] 42061633 Bogalusa [OSM 1… OSM            8th level        
#&gt; </span><span style='color: #BCBCBC;'>15</span><span>   37</span><span style='text-decoration: underline;'>513</span><span>931 [V] [N] 37513931 oxcarbazepine 1… NDC            11-digit NDC     
#&gt; </span><span style='color: #BCBCBC;'>16</span><span>   43</span><span style='text-decoration: underline;'>569</span><span>515 [V] [N] 43569515 Ginkgo Sandoz [… RxNorm Extens… Brand Name       
#&gt; </span><span style='color: #BCBCBC;'>17</span><span>   46</span><span style='text-decoration: underline;'>290</span><span>886 [V] [C] 46290886 LEG CRAMPS PM -… SPL            OTC Drug         
#&gt; </span><span style='color: #BCBCBC;'>18</span><span>   46</span><span style='text-decoration: underline;'>289</span><span>483 [V] [C] 46289483 TORK FOAM ANTIB… SPL            OTC Drug         
#&gt; </span><span style='color: #BCBCBC;'>19</span><span>   19</span><span style='text-decoration: underline;'>118</span><span>814 [D] [N] 19118814 Mitomycin 0.5 M… RxNorm         Branded Drug Comp
#&gt; </span><span style='color: #BCBCBC;'>20</span><span>   21</span><span style='text-decoration: underline;'>136</span><span>931 [V] [S] 21136931 5 ML Regular In… RxNorm Extens… Marketed Product </div><div class='input'>


<span class='co'># Test filtering of strip columns</span>
<span class='va'>test_output</span> <span class='op'>&lt;-</span> <span class='fu'><a href='merge_strip.html'>merge_strip</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>test_data</span>,
                        into <span class='op'>=</span> <span class='st'>"concept"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
                <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>concept_id</span><span class='op'>)</span>

<span class='co'># Filter at a Strip Column</span>
<span class='fu'>filter_strip</span><span class='op'>(</span><span class='va'>test_output</span>,
             strip_col <span class='op'>=</span> <span class='va'>concept</span>,
             <span class='va'>vocabulary_id</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"SNOMED"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 3 x 1</span><span>
#&gt;   concept                                                                       
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                                                         
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> [U] [N] 44799086 [X]Victim of avalanche, landslide and other earth movements …
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> [D] [N] 3652026 MIDODRINE HYDROCHLORIDE 2.5mg tablets [SNOMED 126558010000011…
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> [V] [S] 4326268 Infection by Oesophagostomum apiostomum [SNOMED 75169006] [Co…</div><div class='input'>
<span class='co'># Filter at more than 1 Strip Column</span>
<span class='va'>test_data</span> <span class='op'>&lt;-</span>
        <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_cols</a></span><span class='op'>(</span><span class='va'>test_output</span> <span class='op'>%&gt;%</span>
                                 <span class='fu'>rubix</span><span class='fu'>::</span><span class='fu'><a href='https://meerapatelmd.github.io/rubix/reference/randomize.html'>randomize</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
                                 <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span>concept_a <span class='op'>=</span> <span class='va'>concept</span><span class='op'>)</span>,
                         <span class='va'>test_output</span> <span class='op'>%&gt;%</span>
                                 <span class='fu'>rubix</span><span class='fu'>::</span><span class='fu'><a href='https://meerapatelmd.github.io/rubix/reference/randomize.html'>randomize</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
                                 <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span>concept_b <span class='op'>=</span> <span class='va'>concept</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='filter_at_all_strip.html'>filter_at_all_strip</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>test_data</span>,
                strip_cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"concept_a"</span>,
                               <span class='st'>"concept_b"</span><span class='op'>)</span>,
                <span class='va'>vocabulary_id</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"RxNorm"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 2</span><span>
#&gt;   concept_a                               concept_b                             
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                 
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> [U] [N] 19123243 Levobupivacaine 0.625… [V] [C] 36240133 Noctesed Oral Produc…</div><div class='input'>
<span class='fu'><a href='filter_at_any_strip.html'>filter_at_any_strip</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>test_data</span>,
                    strip_cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"concept_a"</span>,
                                   <span class='st'>"concept_b"</span><span class='op'>)</span>,
                    <span class='va'>vocabulary_id</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"RxNorm"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 7 x 2</span><span>
#&gt;   concept_a                               concept_b                             
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                 
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> [U] [N] 19123243 Levobupivacaine 0.625… [V] [C] 36240133 Noctesed Oral Produc…
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> [V] [S] 44104843 ECHINACEA ANGUSTIFOLI… [V] [C] 46290886 LEG CRAMPS PM - oyst…
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> [V] [C] 36240133 Noctesed Oral Product… [V] [N] 3414550 Traumatic brachial pl…
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> [V] [N] 43569515 Ginkgo Sandoz [RxNorm… [V] [S] 21136931 5 ML Regular Insulin…
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> [D] [N] 19118814 Mitomycin 0.5 MG/ML [… [V] [N] 43569515 Ginkgo Sandoz [RxNor…
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> [V] [C] 46290886 LEG CRAMPS PM - oyste… [V] [S] 44104843 ECHINACEA ANGUSTIFOL…
#&gt; </span><span style='color: #BCBCBC;'>7</span><span> [V] [N] 3414550 Traumatic brachial ple… [U] [N] 19123243 Levobupivacaine 0.62…</div><div class='input'>
<span class='fu'><a href='dcAthena.html'>dcAthena</a></span><span class='op'>(</span>conn <span class='op'>=</span> <span class='va'>conn</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [2021-05-26 15:03:57]	Postgres connection to 'athena' closed</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Meera Patel, MD.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


